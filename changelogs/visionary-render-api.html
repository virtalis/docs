<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-changelogs/visionary-render-api" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Visionary Render API | Virtalis Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.virtalis.com/changelogs/visionary-render-api"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Visionary Render API | Virtalis Docs"><meta data-rh="true" name="description" content="1.1 to 2025.2"><meta data-rh="true" property="og:description" content="1.1 to 2025.2"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.virtalis.com/changelogs/visionary-render-api"><link data-rh="true" rel="alternate" href="https://docs.virtalis.com/changelogs/visionary-render-api" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.virtalis.com/changelogs/visionary-render-api" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N450QRS24Y-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-98F5PV30KY"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-98F5PV30KY",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-KBWDPQHK",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Virtalis Docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.6350f981.css">
<script src="/assets/js/runtime~main.a67e4f5f.js" defer="defer"></script>
<script src="/assets/js/main.9a396758.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KBWDPQHK" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="35" height="30" viewBox="0 0 35 30" aria-hidden="true"><path stroke="white" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/assets/logos/virtalis-docs.svg" alt="Virtalis Docs Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" width="180"><img src="/assets/logos/virtalis-docs.svg" alt="Virtalis Docs Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" width="180"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">User Manuals</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/importers-and-exporters">Importers and Exporters</a></li><li><a class="dropdown__link" href="/license-server">License Server</a></li><li><a class="dropdown__link" href="/virtalis-hub-and-web-viewer">Virtalis Hub and Web Viewer</a></li><li><a class="dropdown__link" href="/visionary-render">Visionary Render</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Technical Guides</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/virtalis-hub-system-admin">Virtalis Hub System Admin</a></li><li><a class="dropdown__link" href="/visionary-render-programming">Visionary Render Programming</a></li></ul></div><a class="navbar__item navbar__link" href="/release-notes">Release Notes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/changelogs">Changelogs</a></div><div class="navbar__items navbar__items--right"><div class="toggle_MW0i colorModeToggle_DEke"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="Switch between light and dark mode (currently dark mode)" aria-label="Switch between light and dark mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_SFTY"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_ekgs"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/changelogs">Changelogs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/changelogs/geovisionary">GeoVisionary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/changelogs/importers-and-exporters">Importers and Exporters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/changelogs/license-server">License Server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/changelogs/virtalis-hub-and-web-viewer">Virtalis Hub and Web Viewer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/changelogs/visionary-render">Visionary Render</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/changelogs/visionary-render-api">Visionary Render API</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/changelogs"><span itemprop="name">Changelogs</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Visionary Render API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Visionary Render API</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20252">2025.2<a href="#20252" class="hash-link" aria-label="Direct link to 2025.2" title="Direct link to 2025.2">​</a></h2>
<p><em>Released 2025-07-07</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added">Added<a href="#added" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li><code>vrBakeMesh</code> function to convert deformable meshes to static meshes for export and upload</li>
<li><code>vrGetDirectoryContents</code> function to return the files and folders in a directory as a table of tables</li>
<li>Missing documentation for various optional parameters</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed">Fixed<a href="#fixed" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li><code>vrShowGUIFrame</code> ignores its <code>show</code> parameter and can&#x27;t be used to hide the GUI</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20251">2025.1<a href="#20251" class="hash-link" aria-label="Direct link to 2025.1" title="Direct link to 2025.1">​</a></h2>
<p><em>Released 2025-03-07</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed">Changed<a href="#changed" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li><code>vrSetting</code> functions will continue to work when the setting they reference is moved</li>
<li><code>vrSettingWrite</code> throws a warning instead of an error when attempting to write to a setting that no longer exists</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-1">Fixed<a href="#fixed-1" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Make <code>vrExtractBinaryAssets</code> accept unversioned metanode names and deduce the metanode type automatically from the provided node if no explicit type is defined</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20243">2024.3<a href="#20243" class="hash-link" aria-label="Direct link to 2024.3" title="Direct link to 2024.3">​</a></h2>
<p><em>Released 2024-10-25</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-1">Added<a href="#added-1" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li><code>vrHasLicenceFeature</code> to check whether a licence feature is available</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20242">2024.2<a href="#20242" class="hash-link" aria-label="Direct link to 2024.2" title="Direct link to 2024.2">​</a></h2>
<p><em>Released 2024-07-08</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-2">Added<a href="#added-2" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li><code>vrDisableNetwork</code> to permit networking to be disabled, in contrast to <code>vrEnableNetwork</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="removed">Removed<a href="#removed" class="hash-link" aria-label="Direct link to Removed" title="Direct link to Removed">​</a></h4>
<ul>
<li><code>relTo</code> parameter from <code>vrScriptEditorSetInsertPos</code> and <code>vrScriptEditorSetMarkPos</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-2">Fixed<a href="#fixed-2" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Prevent <code>vrSettingCreate</code> functions from being able to create unnamed settings</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20241">2024.1<a href="#20241" class="hash-link" aria-label="Direct link to 2024.1" title="Direct link to 2024.1">​</a></h2>
<p><em>Released 2024-02-29</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-3">Added<a href="#added-3" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li><code>vrSplitVirtalisHubURL</code> to identify Virtalis Hub URLs and extract their server name, artifact ID and artifact name</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-3">Fixed<a href="#fixed-3" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li><code>vrDot</code> to work with <code>vrVec4</code> values</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20232">2023.2<a href="#20232" class="hash-link" aria-label="Direct link to 2023.2" title="Direct link to 2023.2">​</a></h2>
<p><em>Released 2023-09-26</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-4">Added<a href="#added-4" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li><code>vrGenerateQRCodeFile</code> to permit QR codes to be generated and saved to a file (which is used by the HoloLens 2 to view scenes in Augmented Reality)</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20222">2022.2<a href="#20222" class="hash-link" aria-label="Direct link to 2022.2" title="Direct link to 2022.2">​</a></h2>
<p><em>Released 2022-07-08</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-4">Fixed<a href="#fixed-4" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Incorrect return values from <code>vrNodeIsInGroup</code></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20221">2022.1<a href="#20221" class="hash-link" aria-label="Direct link to 2022.1" title="Direct link to 2022.1">​</a></h2>
<p><em>Released 2022-01-24</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-1">Changed<a href="#changed-1" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>Improve logging so that failures in the plugin sandbox can be understood</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="202131">2021.3.1<a href="#202131" class="hash-link" aria-label="Direct link to 2021.3.1" title="Direct link to 2021.3.1">​</a></h2>
<p><em>Released 2021-11-29</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-5">Fixed<a href="#fixed-5" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Occasional crash after certain combinations of Lua script errors</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20213">2021.3<a href="#20213" class="hash-link" aria-label="Direct link to 2021.3" title="Direct link to 2021.3">​</a></h2>
<p><em>Released 2021-10-07</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-2">Changed<a href="#changed-2" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li><code>vrNodeFindChild</code> to return <code>nil</code> instead of the node to search from when passed an empty search path</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20212">2021.2<a href="#20212" class="hash-link" aria-label="Direct link to 2021.2" title="Direct link to 2021.2">​</a></h2>
<p><em>Released 2021-07-12</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-5">Added<a href="#added-5" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li>2 functions to the Lua API for observing events:</li>
</ul>
<table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>vrAddEventObserver</code></td><td>Adds an observer and callback function to execute for events</td></tr><tr><td><code>vrAddGlobalEventObserver</code></td><td>Adds an observer and callback function to execute for global events</td></tr></tbody></table>
<ul>
<li>32 functions to the C API for observing events:</li>
</ul>
<table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>VRAddCallbackActivate</code></td><td>Add callback for Activate event of a node and the other node deactivated</td></tr><tr><td><code>VRRemoveCallbackActivate</code></td><td>Remove callback for Activate event of a node and the other node deactivated</td></tr><tr><td><code>VRAddCallbackTouch</code></td><td>Add Touch callback (assembly has collided)</td></tr><tr><td><code>VRRemoveCallbackTouch</code></td><td>Remove Touch callback (assembly has collided)</td></tr><tr><td><code>VRAddCallbackBreak</code></td><td>Add Break callback (assembly has ceased colliding)</td></tr><tr><td><code>VRRemoveCallbackBreak</code></td><td>Remove Break callback (assembly has ceased colliding)</td></tr><tr><td><code>VRAddCallbackKeyPress</code></td><td>Add Key press callback (key was pressed)</td></tr><tr><td><code>VRRemoveCallbackKeyPress</code></td><td>Remove Key press callback (key was pressed)</td></tr><tr><td><code>VRAddCallbackKeyRelease</code></td><td>Add Key release callback (key was released)</td></tr><tr><td><code>VRRemoveCallbackKeyRelease</code></td><td>Remove Key release callback (key was released)</td></tr><tr><td><code>VRAddCallbackPoseEntered</code></td><td>Add Pose entered callback (a hand switched to a pose)</td></tr><tr><td><code>VRRemoveCallbackPoseEntered</code></td><td>Remove Pose entered callback (a hand switched to a pose)</td></tr><tr><td><code>VRAddCallbackPoseLeft</code></td><td>Add Pose left callback (a hand left a pose)</td></tr><tr><td><code>VRRemoveCallbackPoseLeft</code></td><td>Remove Pose left callback (a hand left a pose)</td></tr><tr><td><code>VRAddCallbackGesture</code></td><td>Add Gesture callback (a hand activated a gesture)</td></tr><tr><td><code>VRRemoveCallbackGesture</code></td><td>Remove Gesture callback (a hand activated a gesture)</td></tr><tr><td><code>VRAddCallbackClick</code></td><td>Add Click callback (button or similar node clicked)</td></tr><tr><td><code>VRRemoveCallbackClick</code></td><td>Remove Click callback (button or similar node clicked)</td></tr><tr><td><code>VRAddCallbackDoubleClick</code></td><td>Add Double click callback (button or similar node double-clicked)</td></tr><tr><td><code>VRRemoveCallbackDoubleClick</code></td><td>Remove Double click callback (button or similar node double-clicked)</td></tr><tr><td><code>VRAddCallbackEnter</code></td><td>Add Enter callback (a generic state was entered)</td></tr><tr><td><code>VRRemoveCallbackEnter</code></td><td>Remove Enter callback (a generic state was entered)</td></tr><tr><td><code>VRAddCallbackLeave</code></td><td>Add Leave callback (a generic state was left)</td></tr><tr><td><code>VRRemoveCallbackLeave</code></td><td>Remove Leave callback (a generic state was left)</td></tr><tr><td><code>VRAddCallbackMove</code></td><td>Add Move callback. The Move event applies to sliders, scrollbars and markers in the GUI system in addition to assemblies.</td></tr><tr><td><code>VRRemoveCallbackMove</code></td><td>Remove Move callback (the transform property has changed)</td></tr><tr><td><code>VRAddCallbackPress</code></td><td>Add Press callback (button or similar node pressed)</td></tr><tr><td><code>VRRemoveCallbackPress</code></td><td>Remove Press callback (button or similar node pressed)</td></tr><tr><td><code>VRAddCallbackRelease</code></td><td>Add Release callback (button or similar node released)</td></tr><tr><td><code>VRRemoveCallbackRelease</code></td><td>Remove Release callback (button or similar node released)</td></tr><tr><td><code>VRAddCallbackToggle</code></td><td>Add Toggle callback (button or similar node toggled)</td></tr><tr><td><code>VRRemoveCallbackToggle</code></td><td>Remove Toggle callback (button or similar node toggled)</td></tr></tbody></table>
<ul>
<li>14 functions to the Lua API for creating and editing user settings:</li>
</ul>
<table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>vrSettingCreateArrayDouble</code></td><td>Creates a new double array user setting</td></tr><tr><td><code>vrSettingCreateArrayFloat</code></td><td>Creates a new float array user setting</td></tr><tr><td><code>vrSettingCreateArrayInt</code></td><td>Creates a new integer array user setting</td></tr><tr><td><code>vrSettingCreateBool</code></td><td>Creates a new boolean user setting</td></tr><tr><td><code>vrSettingCreateDouble</code></td><td>Creates a new double user setting</td></tr><tr><td><code>vrSettingCreateFloat</code></td><td>Creates a new float user setting</td></tr><tr><td><code>vrSettingCreateInt</code></td><td>Creates a new integer user setting</td></tr><tr><td><code>vrSettingCreateLink</code></td><td>Creates a new link user setting</td></tr><tr><td><code>vrSettingCreateString</code></td><td>Creates a new string user setting</td></tr><tr><td><code>vrSettingGetRoot</code></td><td>Gets the node associated with the root of the settings hierarchy</td></tr><tr><td><code>vrSettingSetCaption</code></td><td>Assigns a custom caption to a setting, allowing the text displayed in user interface to be different from the setting name</td></tr><tr><td><code>vrSettingSetFilter</code></td><td>Assigns a filter to a setting. The meaning of the filter depends on the setting type</td></tr><tr><td><code>vrSettingSetStep</code></td><td>Assigns a step size to a numerical setting</td></tr><tr><td><code>vrSettingSetType</code></td><td>Assigns a type to a setting, which determines how the setting is presented in the user interface</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-3">Changed<a href="#changed-3" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>Improve <code>vrNodeHasTrait(node:hasTrait())</code> to support checking for traits without version numbers and without the <code>Trait_</code> prefix. For example, <code>n:hasTrait(&quot;AttributeTable&quot;)</code> as a shortcut for <code>n:hasTrait(&quot;Trait_AttributeTable.1&quot;)</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deprecated">Deprecated<a href="#deprecated" class="hash-link" aria-label="Direct link to Deprecated" title="Direct link to Deprecated">​</a></h4>
<ul>
<li><code>__registerCallback</code> no longer accepts non-function objects as callbacks</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-6">Fixed<a href="#fixed-6" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Crash when a vector or matrix is passed to a Lua function that expects a node</li>
<li>Various instances where infinite progress displays could be spawned from Lua scripts</li>
<li>Inability to register Lua functions in the Lua state provided by <code>vrtree.dll</code></li>
<li>Scripts in the StandardActions library can execute multiple times in a collaboration</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="202111">2021.1.1<a href="#202111" class="hash-link" aria-label="Direct link to 2021.1.1" title="Direct link to 2021.1.1">​</a></h2>
<p><em>Released 2021-04-19</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-4">Changed<a href="#changed-4" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li><code>vrAddPropertyObserver</code> can observe multiple properties of a metanode</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20211">2021.1<a href="#20211" class="hash-link" aria-label="Direct link to 2021.1" title="Direct link to 2021.1">​</a></h2>
<p><em>Released 2021-04-01</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-6">Added<a href="#added-6" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li>40 functions to the Lua API for for creating your own metanode types:</li>
</ul>
<table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>vrCreateMetaNode</code></td><td>Creates a new metanode</td></tr><tr><td><code>vrFinishMetaNode</code></td><td>Finishes a metanode (call this after creating it and adding properties, etc.)</td></tr><tr><td><code>vrAddPropertyBool</code></td><td>Adds a new boolean property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyChar</code></td><td>Adds a new character property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyInt</code></td><td>Adds a new integer property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyFloat</code></td><td>Adds a new float property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyDouble</code></td><td>Adds a new double property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyWorldFloat</code></td><td>Adds a new world float property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyLink</code></td><td>Adds a new link property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyString</code></td><td>Adds a new string property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec2i</code></td><td>Adds a new vec2i property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec2f</code></td><td>Adds a new vec2f property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec2d</code></td><td>Adds a new vec2d property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec2w</code></td><td>Adds a new vec2w property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec3i</code></td><td>Adds a new vec3i property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec3f</code></td><td>Adds a new vec3f property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec3d</code></td><td>Adds a new vec3d property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec3w</code></td><td>Adds a new vec3w property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec4i</code></td><td>Adds a new vec4i property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec4f</code></td><td>Adds a new vec4f property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec4d</code></td><td>Adds a new vec4d property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVec4w</code></td><td>Adds a new vec4w property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyMat3f</code></td><td>Adds a new mat3f property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyMat3d</code></td><td>Adds a new mat3d property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyMat3w</code></td><td>Adds a new mat3w property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyMat4f</code></td><td>Adds a new mat4f property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyMat4d</code></td><td>Adds a new mat4d property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyMat4w</code></td><td>Adds a new mat4w property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyArrayBool</code></td><td>Adds a new boolean array property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyArrayChar</code></td><td>Adds a new character array property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyArrayInt</code></td><td>Adds a new integer array property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyArrayFloat</code></td><td>Adds a new float array property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyArrayDouble</code></td><td>Adds a new double array property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyArrayWorldFloat</code></td><td>Adds a new world float array property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVectorBool</code></td><td>Adds a new boolean vector property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVectorChar</code></td><td>Adds a new character vector property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVectorInt</code></td><td>Adds a new integer vector property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVectorFloat</code></td><td>Adds a new float vector property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVectorDouble</code></td><td>Adds a new double vector property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVectorWorldFloat</code></td><td>Adds a new world float vector property to an unfinished metanode</td></tr><tr><td><code>vrAddPropertyVectorString</code></td><td>Adds a new string vector property to an unfinished metanode</td></tr></tbody></table>
<ul>
<li>40 functions to the C API for creating and observing settings:</li>
</ul>
<table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>VRCreateSettingBool</code></td><td>Creates a boolean setting if it doesn&#x27;t already exist</td></tr><tr><td><code>VRCreateSettingInt</code></td><td>Creates an integer setting if it doesn&#x27;t already exist</td></tr><tr><td><code>VRCreateSettingArrayInt</code></td><td>Creates an integer array setting if it doesn&#x27;t already exist</td></tr><tr><td><code>VRCreateSettingFloat</code></td><td>Creates a float setting if it doesn&#x27;t already exist</td></tr><tr><td><code>VRCreateSettingArrayFloat</code></td><td>Creates a float array setting if it doesn&#x27;t already exist</td></tr><tr><td><code>VRCreateSettingDouble</code></td><td>Creates a double setting if it doesn&#x27;t already exist</td></tr><tr><td><code>VRCreateSettingArrayDouble</code></td><td>Creates a double array setting if it doesn&#x27;t already exist</td></tr><tr><td><code>VRCreateSettingString</code></td><td>Creates a string setting if it doesn&#x27;t already exist</td></tr><tr><td><code>VRCreateSettingLink</code></td><td>Creates a link setting if it doesn&#x27;t already exist</td></tr><tr><td><code>VRSetSettingCaption</code></td><td>Assigns a custom caption to a setting, allowing the text displayed to in user interface to be different from the setting name</td></tr><tr><td><code>VRSetSettingRange</code></td><td>Assigns a range to a numeric setting</td></tr><tr><td><code>VRSetSettingStep</code></td><td>Assigns a step size to a numeric setting</td></tr><tr><td><code>VRSetSettingType</code></td><td>Assigns a type to a setting, which determines how the setting is presented in the user interface</td></tr><tr><td><code>VRSetSettingFilter</code></td><td>Assigns a filter to a setting</td></tr><tr><td><code>VRGetSettingSize</code></td><td>Returns the number of bytes required to store a setting&#x27;s value. For string settings, this includes the terminating null character</td></tr><tr><td><code>VRReadSettingBool</code></td><td>Reads a boolean setting</td></tr><tr><td><code>VRReadSettingInt</code></td><td>Reads an int setting</td></tr><tr><td><code>VRReadSettingArrayInt</code></td><td>Reads an int array setting</td></tr><tr><td><code>VRReadSettingFloat</code></td><td>Reads a float setting</td></tr><tr><td><code>VRReadSettingArrayFloat</code></td><td>Reads a float array setting</td></tr><tr><td><code>VRReadSettingDouble</code></td><td>Reads a double setting</td></tr><tr><td><code>VRReadSettingArrayDouble</code></td><td>Reads a double array setting</td></tr><tr><td><code>VRReadSettingString</code></td><td>Reads a string setting</td></tr><tr><td><code>VRReadSettingLink</code></td><td>Reads a link setting</td></tr><tr><td><code>VRWriteSettingBool</code></td><td>Sets the value of a boolean setting</td></tr><tr><td><code>VRWriteSettingInt</code></td><td>Sets the value of an int setting</td></tr><tr><td><code>VRWriteSettingArrayInt</code></td><td>Sets the value of an int array setting</td></tr><tr><td><code>VRWriteSettingFloat</code></td><td>Sets the value of a float setting</td></tr><tr><td><code>VRWriteSettingArrayFloat</code></td><td>Sets the value of a float array setting</td></tr><tr><td><code>VRWriteSettingDouble</code></td><td>Sets the value of a double setting</td></tr><tr><td><code>VRWriteSettingArrayDouble</code></td><td>Sets the value of a double array setting</td></tr><tr><td><code>VRWriteSettingString</code></td><td>Sets the value of a string setting</td></tr><tr><td><code>VRWriteSettingLink</code></td><td>Sets the value of a link setting</td></tr><tr><td><code>VRGetSettingNode</code></td><td>Gets the VRTree node associated with a setting. If the setting has a scene override, the override node is returned; otherwise, the user setting node is returned</td></tr><tr><td><code>VRGetRootSettingNode</code></td><td>Gets the VRTree node associated with the root of the settings hierarchy</td></tr><tr><td><code>VRGetSceneRootSettingNode</code></td><td>Gets the VRTree node associated with the root of the scene overrides, if present</td></tr><tr><td><code>VRAddSettingToScene</code></td><td>Adds a scene override of a setting (if it doesn&#x27;t already exist) and copies the value from the user setting to the override</td></tr><tr><td><code>VRRemoveSettingFromScene</code></td><td>Removes a scene override of a setting</td></tr><tr><td><code>VRAddCallbackSettingChanged</code></td><td>Registers a function to be called when a setting value changes</td></tr><tr><td><code>VRRemoveCallbackSettingChanged</code></td><td>Removes a callback that was added with <code>VRAddCallbackSettingChanged()</code></td></tr></tbody></table>
<ul>
<li><code>vrNodeArrayClear</code> to clear the values held in an array property</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-5">Changed<a href="#changed-5" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>Improves the performance of hooks in Lua scripts</li>
<li>Improves the performance of copying large strings in Lua scripts</li>
<li><code>vrNodeArraySet</code>, <code>vrNodeArrayPush</code> and <code>vrNodeArraySetElement</code> so that they accept zero or more values, maths types (vrVec2/3/4, vrMat3/4, etc.), strings containing binary data, or nested tables containing any combination of these</li>
<li>Added an optional parameter to <code>vrNodeArrayPop</code> specifying how many items to pop (defaults to 1)</li>
<li>Made all the <code>vrNodeArray*</code> functions accept a single <code>VectorPropUD</code> userdata argument as an alternative to the node and property name</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-7">Fixed<a href="#fixed-7" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li><code>vrSelectNodes({})</code> doesn&#x27;t work</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20202">2020.2<a href="#20202" class="hash-link" aria-label="Direct link to 2020.2" title="Direct link to 2020.2">​</a></h2>
<p><em>Released 2020-07-08</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-7">Added<a href="#added-7" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li><code>vrGetHoldingUser</code> to determine which user has grabbed an object</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-6">Changed<a href="#changed-6" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>The following functions can now be called for a specific user node:<!-- -->
<ul>
<li><code>vrIsToolEnabled</code></li>
<li><code>vrSetToolEnabled</code></li>
<li><code>vrToggleToolEnabled</code></li>
<li><code>vrSettingGetNode</code></li>
<li><code>vrSettingGet</code></li>
<li><code>vrSettingRead</code></li>
<li><code>vrSettingWrite</code></li>
</ul>
</li>
<li>Allows objects to be released from the TrackedManipulatorTool using <code>vrReleaseObjectFromTrackedHand</code></li>
<li>Adds optional parameters to <code>vrGrabObjectWithTrackedHand</code> and <code>vrReleaseObjectFromTrackedHand</code> to specify the user and/or hand and object positioning</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-8">Fixed<a href="#fixed-8" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes issue with Lua functions such as <code>vrSettingRead</code> and <code>vrSettingWrite</code> being applied to the wrong user in a collaboration</li>
<li>Fixes problems with the <code>vrBodyFly...</code> Lua functions in collaboration sessions</li>
<li>Fixes incorrect results from <code>vrBodyFlyToFit</code> and <code>vrBodyFlyToFitSphere</code> when called from a script in a collaboration for a user other than the master</li>
<li>Fixes a bug where a call to <code>vrBodyFlyTo</code> from an activate event script would result in the event being triggered repeatedly</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20201">2020.1<a href="#20201" class="hash-link" aria-label="Direct link to 2020.1" title="Direct link to 2020.1">​</a></h2>
<p><em>Released 2020-03-18</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-8">Added<a href="#added-8" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li><code>VRGetPrev</code> - Get the previous sibling of a node</li>
<li><code>VRGetPrevOfType</code> - Get the previous sibling of a specific type</li>
<li><code>VRSetParentEx</code> - Set the parent of a node, specifying a sibling to insert after</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deprecated-1">Deprecated<a href="#deprecated-1" class="hash-link" aria-label="Direct link to Deprecated" title="Direct link to Deprecated">​</a></h4>
<ul>
<li><code>vrSetTrackedHandNode</code> and <code>vrSetTrackedEyesNode</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-9">Fixed<a href="#fixed-9" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes issue with the plugins directory that Visionary Render installs not being checked for Lua scripts</li>
<li>Fixes crash when changing the current value of a custom drop-down setting created with <code>vrSettingAddToScene</code></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20195">2019.5<a href="#20195" class="hash-link" aria-label="Direct link to 2019.5" title="Direct link to 2019.5">​</a></h2>
<p><em>Released 2019-12-06</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-10">Fixed<a href="#fixed-10" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes issue causing plugin installation via the settings window to silently fail under certain circumstances</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20193">2019.3<a href="#20193" class="hash-link" aria-label="Direct link to 2019.3" title="Direct link to 2019.3">​</a></h2>
<p><em>Released 2019-05-29</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-9">Added<a href="#added-9" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li><code>VRGetPropertyEx()</code> to extract the property index from a metanode name and property name</li>
<li><code>VRRemoveCallbackEx</code> variants to remove callbacks specific to a piece of user data</li>
</ul>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">C++</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">MyManager_</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">uint32_t</span><span class="token plain"> property</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">*</span><span class="token plain">translate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">HNode vrNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token operator">*</span><span class="token plain"> text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> MyManager</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">onValuesChanged</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">HNode node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token operator">*</span><span class="token plain"> userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  MyManager</span><span class="token operator">-</span><span class="token plain"> manager </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">MyManager</span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">userData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token class-name">size_t</span><span class="token plain"> length </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">VRGetPropertyValueSizeEx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> manager</span><span class="token operator">-&gt;</span><span class="token plain">property</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">auto</span><span class="token plain"> text </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token operator">*</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token function" style="color:rgb(80, 250, 123)">malloc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRGetPropertyStringEx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> manager</span><span class="token operator">-&gt;</span><span class="token plain">property</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> length</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">manager</span><span class="token operator">-&gt;</span><span class="token plain">translate </span><span class="token operator">&amp;&amp;</span><span class="token plain"> length </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    manager</span><span class="token operator">-&gt;</span><span class="token function" style="color:rgb(80, 250, 123)">translate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">free</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">init</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token operator">*</span><span class="token plain"> metaName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> MyManager</span><span class="token operator">*</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRAddCallbackNodeValuesChanged</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">metaName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">onValuesChanged</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">release</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token operator">*</span><span class="token plain"> metaName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> MyManager</span><span class="token operator">*</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRRemoveCallbackNodeValuesChangedEx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">metaName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token operator">&amp;</span><span class="token plain">onValuesChanged</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">namespace</span><span class="token plain"> vrtree</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">using</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">namespace</span><span class="token plain"> vrtree_cpp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">struct</span><span class="token plain"> </span><span class="token class-name">MyManager2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token operator">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token base-clause"> </span><span class="token base-clause class-name">NodeManager</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">MyManager2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">registerObserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Meta_MetaDataString</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">Name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">registerUpdateable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token operator">~</span><span class="token function" style="color:rgb(80, 250, 123)">MyManager2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">unRegisterObserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Meta_MetaDataString</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">Name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">unRegisterUpdateable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">update</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">double</span><span class="token plain"> deltaTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// TODO: do stuff every step</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">nodeValuesChanged</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">HNodeR</span><span class="token operator">&amp;</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// TODO: respond to stuff</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// More functions avaliable to override in NodeManager class...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-7">Changed<a href="#changed-7" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>Updated the scripting engine to <code>LuaJIT-2.1.0-beta3</code>, which allows 64-bit memory management</li>
<li><code>vrGeometryOp()</code> now supports <code>optimise</code>, <code>split</code>, <code>explode</code>, <code>prune</code>, <code>sieve</code>, <code>recentre</code>, <code>transform</code> and <code>merge</code> operations</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-11">Fixed<a href="#fixed-11" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes crash that could occur when compressing DDS pixel data in the API</li>
<li>Fixes out-of-memory issues with scripting, most commonly affecting Windows 7</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20192">2019.2<a href="#20192" class="hash-link" aria-label="Direct link to 2019.2" title="Direct link to 2019.2">​</a></h2>
<p><em>Released 2019-03-27</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-10">Added<a href="#added-10" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li>
<p><code>VRGetMetaNode</code> to get the metanode handle from a given node handle</p>
</li>
<li>
<p>6 C API functions that work with properties containing vectors of strings:</p>
<ul>
<li><code>VRAddPropertyVectorString</code></li>
<li><code>VRChangePropertyVectorString</code></li>
<li><code>VRSetPropertyStringElement</code></li>
<li><code>VRSetPropertyStringElementEx</code></li>
<li><code>VRGetPropertyStringElement</code></li>
<li><code>VRGetPropertyStringElementEx</code></li>
</ul>
</li>
<li>
<p>6 C API functions to access fixed sized floating point value arrays such as those used for matrices:</p>
<ul>
<li><code>VRSetPropertyArrayFloat</code></li>
<li><code>VRSetPropertyArrayFloatEx</code></li>
<li><code>VRSetPropertyArrayDouble</code></li>
<li><code>VRSetPropertyArrayDoubleEx</code></li>
<li><code>VRSetPropertyArrayWorldFloat</code></li>
<li><code>VRSetPropertyArrayWorldFloatEx</code></li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20191">2019.1<a href="#20191" class="hash-link" aria-label="Direct link to 2019.1" title="Direct link to 2019.1">​</a></h2>
<p><em>Released 2019-01-24</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-12">Fixed<a href="#fixed-12" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes a crash that could occur when an unexpected uniform type is encountered in a surface shader</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="22">2.2<a href="#22" class="hash-link" aria-label="Direct link to 2.2" title="Direct link to 2.2">​</a></h2>
<p><em>Released 2018-11-15</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-8">Changed<a href="#changed-8" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>Nodes in the Toolbox no longer have an Enabled property; this is now controlled solely by the settings under Tools/State. Code that enables or disables tools can now do so via the settings, or preferably, with the Lua functions <code>vrIsToolEnabled</code>, <code>vrSetToolEnabled</code> and <code>vrToggleToolEnabled</code>. These take the name of a tool node, which also matches the metanode names if using the default Toolbox. In C/C++, these can be called using the Foreign Function Interface (FFI). For example:</li>
</ul>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">C++</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Lua</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">HNode tool </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">VRFind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">VRGetThisUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ToolBox/MouseNavigatorTool&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRSetPropertyChar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Enabled&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRCloseNodeHandle</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">HNodeR tool </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">VRFind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 250, 123)">VRGetThisUser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ToolBox/MouseNavigatorTool&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRSetPropertyChar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Enabled&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vrLocalUserNode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token function" style="color:rgb(80, 250, 123)">find</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ToolBox/MouseNavigatorTool&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Enabled </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Should be changed to:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">C++</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Lua</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">HFFIVar args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRFFIMakeString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MouseNavigatorTool&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRFFIMakeBool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">HFFIVar ret </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">VRFFIInvoke</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;vrSetToolEnabled&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">VRFFIFree</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ret</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">VRFFIFree</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">VRFFIFree</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">HFFIVarR args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRFFIMakeString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MouseNavigatorTool&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">VRFFIMakeBool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">HFFIVarR ret </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">VRFFIInvoke</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;vrSetToolEnabled&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">HFFIVarR</span><span class="token double-colon punctuation" style="color:rgb(248, 248, 242)">::</span><span class="token function" style="color:rgb(80, 250, 123)">raw</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vrSetToolEnabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;MouseNavigatorTool&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="removed-1">Removed<a href="#removed-1" class="hash-link" aria-label="Direct link to Removed" title="Direct link to Removed">​</a></h4>
<ul>
<li>Removes Enabled property from all nodes under the toolbox. Any scripts that refer to the Enabled property of a tool node should be updated to refer to the relevant setting instead</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-13">Fixed<a href="#fixed-13" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes issue where Lua Observers were not receiving callbacks</li>
<li>Fixes issue where plugins would not display relevant progress messages</li>
<li>Fixes issues where matrix properties were not accessible via Lua</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="21">2.1<a href="#21" class="hash-link" aria-label="Direct link to 2.1" title="Direct link to 2.1">​</a></h2>
<p><em>Released 2018-09-06</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-11">Added<a href="#added-11" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li>Adds Lua function <code>vrHideModalDialogues(true)</code> for suppressing modal dialogues to enable unattended scripting</li>
<li>Adds <code>VRGetNodeVersion</code> which allows migration code to query the version of a node</li>
<li>Adds <code>vrMetaNodeExists</code> to check if the named metanode is present</li>
<li>Adds a progress display during shader cache priming</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-9">Changed<a href="#changed-9" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>The internal Lua engine has changed from Lua 5.1 to LuaJIT 2.0.5. This is fully compatible with all existing Lua 5.1 code and plugins, and also supports some extensions from Lua 5.2. You can read more about LuaJIT and its extensions and performance benefits at <a href="http://luajit.org/luajit.html" target="_blank" rel="noopener noreferrer">http://luajit.org/luajit.html</a></li>
<li>Adds an improved API for node observer in Lua. Updates the function signatures of <code>vrAddNodeObserver</code> and <code>vrAddMetaNodeObserver</code>. The old versions have been deprecated. See <a href="/visionary-render-programming/scripts/metanodes/observers">Observers</a> for more information</li>
<li>VR API development licenses are now less restricting, and one development license for a machine will allow development and debugging of any number of plugins</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-14">Fixed<a href="#fixed-14" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes a potential crash when calling certain Lua functions with too few arguments</li>
<li>Fixes issue with global Lua state not being reset when changing scenes</li>
<li>Fixes issue where the plugins list would be empty on cluster slaves</li>
<li>Fixes issue where some functions provided by Lua Plugins could be lost after starting a new scene</li>
<li>Fixes issue reading properties from node snapshots in Lua</li>
<li>Fixes corruption of metadata when editing a script</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="20">2.0<a href="#20" class="hash-link" aria-label="Direct link to 2.0" title="Direct link to 2.0">​</a></h2>
<p><em>Released 2018-05-11</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-12">Added<a href="#added-12" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li>Adds the <a href="/visionary-render-programming/reference/c-api/modules/vrexchange">VR Exchange API</a></li>
<li>Adds some utilities to assist working with reference types in Lua (vectors, matrices, etc)<!-- -->
<ul>
<li><code>vrCopy</code></li>
<li><code>vrGetOwnerNode</code></li>
</ul>
</li>
<li>Adds <code>vrSearchView</code> which allows the tree view quick-search bar to be pre-populated with a search query string</li>
<li>Adds <code>vrNodeGetTraits</code> and <code>vrNodeHasTrait</code> to query the metanode traits of a node. If you know the name of the trait you are looking for, you should use <code>vrNodeHasTrait</code>, as getting all the traits is more expensive</li>
<li>Adds <code>vrNodeIsInGroup</code> to check whether a node is in the specified group, and <code>vrGroupRemoveMember</code> to remove a node from a group</li>
<li>Adds <code>vrTreeViewSelectionSelectParent</code> to select the parent nodes of the nodes in the specified view selection</li>
<li>Adds <code>vrGetContactPoints</code> which returns a list of contact points and normals between two nodes. This can be used, for example, from a Touch event by providing the <code>__Self</code> and <code>__Other</code> registers</li>
<li>Adds <code>vrGetActivatorNode</code> which can be used inside an activate event script to identify the node that activated it (in the case of it being activated by <code>vrActivate</code>)</li>
<li>Adds <code>vrToggleProjection</code> to toggle the current viewport between perspective and orthographic mode</li>
<li>Adds <code>vrUsingHMD</code> to identify whether the primary viewport is rendering into a head-mounted display</li>
<li>Adds the ability to author and load plugins exporting a C interface</li>
<li>Adds <code>__Time</code> register to scripts, containing the total time the application has been running</li>
<li>Adds optional fade effects to <code>vrBodyFlyTo</code></li>
<li>Adds support for custom surface shaders</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-10">Changed<a href="#changed-10" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>Most nodes in the User tree (and the Developer tree in general) are now hidden behind the User Interface / Advanced / Developer Admin Mode setting. If you are a plugin developer it is recommended to enable this setting</li>
<li><code>vrParseJSON</code> now triggers a Lua error on parsing failure, instead of simply printing the error message and continuing</li>
<li>Fixes assignment to swizzled vector values (e.g. <code>vrScenesNode().Cube.Transform.Rotation.zx = { 10, 20 }</code></li>
<li>New attribute table nodes are accessible from Lua using node property syntax for keys (e.g. <code>local value = a.Metadata.KEY_NAME</code>). The structure of attribute tables is such that keys and values are interleaved in regular properties, for example:<!-- -->
<ul>
<li>0 - Key 1</li>
<li>1 - Value 1</li>
<li>2 - Key 2</li>
<li>3 - Value 2</li>
<li>etc...
The <code>vrNodeSetValueByIndex</code> function allows access to key names as well as values using this convention</li>
</ul>
</li>
<li><code>node.WorldEnabled</code> provides access to the node&#x27;s world enabled state</li>
<li>Lua plugins should no longer execute code outside of functions. Initialisation code should go in <code>function init()</code></li>
<li>ApplicationMenuEntry nodes added to context menus now support all of the same types as the main application menu (e.g. app commands, lua blocks, property toggles, etc)</li>
<li>The tools window and associated UI nodes has been removed, replaced with the toolbar for common shortcuts, and the diagnostics frame for logs and stats. Plugins that were previously inserting frames into the tools window may now instead insert buttons into the toolbar, or add frames into the diagnostics window</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deprecated-2">Deprecated<a href="#deprecated-2" class="hash-link" aria-label="Direct link to Deprecated" title="Direct link to Deprecated">​</a></h4>
<p>The following Lua functions have been marked as Deprecated and may be removed in a future version. Most notably, all of the cluster specific Lua calls have been refactored into their non-cluster named equivalent. The cluster logic is now performed completely in C++.</p>
<table><thead><tr><th>Function</th><th>Replacement</th></tr></thead><tbody><tr><td><code>vrClusterResetWindows</code></td><td>vrResetWindows</td></tr><tr><td><code>vrShouldShowPropertyWindow</code></td><td>None. This function has always returned true.</td></tr><tr><td><code>vrPopupPropertyWindow</code></td><td>vrShowPropertyWindow</td></tr><tr><td><code>vrClusterPopupPropertyWindow</code></td><td>vrShowPropertyWindow</td></tr><tr><td><code>vrClusterShowPropertyWindow</code></td><td>vrShowPropertyWindow</td></tr><tr><td><code>vrShowNodeProperties</code></td><td>vrShowPropertyWindow</td></tr><tr><td><code>vrClusterShowNodeProperties</code></td><td>vrShowPropertyWindow</td></tr><tr><td><code>vrClusterTriggerRename</code></td><td>vrTriggerRename</td></tr><tr><td><code>vrPopupScriptWindow</code></td><td>vrShowScriptWindow</td></tr><tr><td><code>vrClusterPopupScriptWindow</code></td><td>vrShowScriptWindow</td></tr><tr><td><code>vrPopupScriptWindowAndShow</code></td><td>vrShowScriptWindow</td></tr><tr><td><code>vrClusterPopupScriptWindowAndShow</code></td><td>vrShowScriptWindow</td></tr><tr><td><code>vrClusterShowSequencer</code></td><td>vrShowSequencer</td></tr><tr><td><code>vrClusterPopupToolsWindow</code></td><td>vrPopupToolsWindow</td></tr><tr><td><code>vrClusterPopupFindWindow</code></td><td>vrPopupFindWindow</td></tr><tr><td><code>vrClusterShowSettingsWindow</code></td><td>vrShowSettingsWindow</td></tr><tr><td><code>vrShowInTree</code></td><td>vrSelectNodes</td></tr><tr><td><code>vrClusterShowInTree</code></td><td>vrSelectNodes</td></tr><tr><td><code>vrShowInTreeViewFrame</code></td><td>vrSelectNodes</td></tr><tr><td><code>vrClusterShowInTreeViewFrame</code></td><td>vrSelectNodes</td></tr><tr><td><code>vrSelectAndShowProperties</code></td><td>vrSelectNodes</td></tr><tr><td><code>vrClusterSelectAndShowProperties</code></td><td>vrSelectNodes</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="removed-2">Removed<a href="#removed-2" class="hash-link" aria-label="Direct link to Removed" title="Direct link to Removed">​</a></h4>
<ul>
<li><code>vrNodeGetWorldMatrix</code> and <code>vrNodeSetWorldMatrix</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-15">Fixed<a href="#fixed-15" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes issues around manually creating pivots from Lua and reusing/re-parenting them</li>
<li>Fixes issues in some Lua vector and matrix math functions</li>
<li>Fixes issue where <code>vrParseJSON</code> would log an error but not actually fail when given invalid JSON</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lua-event-coroutines">Lua Event Coroutines<a href="#lua-event-coroutines" class="hash-link" aria-label="Direct link to Lua Event Coroutines" title="Direct link to Lua Event Coroutines">​</a></h4>
<ul>
<li>Event handler scripts and the main Scripts console window now execute as coroutines</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h5>
<p>A coroutine is a piece of code that may pause its execution and resume at some point in the future. In Visionary Render they can be used to control the flow of an event script, in most cases so that it can perform time-based operations sequentially.</p>
<p>Consider this basic example using <code>vrYield</code>:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> i </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">vrYield</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This prints the numbers 1 through 10 to the application log (and Lua output window) over 5 seconds, printing one number and sleeping for half a second.</p>
<p>To do this without yielding, you would have to use a Timestep event and a piece of metadata or a global variable to track the value of <code>i</code>.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="gotchas">Gotchas<a href="#gotchas" class="hash-link" aria-label="Direct link to Gotchas" title="Direct link to Gotchas">​</a></h6>
<p>There are some issues yielding inside for loops, most obviously when using iterators such as <code>pairs</code>, but also in nested loops.</p>
<p>The following code may randomly fail with a <code>nil access</code> error on the next iteration:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token plain"> t </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> v </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">ipairs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">t</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">vrYield</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">-- don&#x27;t do this here...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Equally, this code will fail after a while because it thinks <code>u</code> is nil:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token plain"> t </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token plain"> u </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> t </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> u </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">vrYield</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    u </span><span class="token operator">=</span><span class="token plain"> u </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  t </span><span class="token operator">=</span><span class="token plain"> t </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The most stable way is to structure the code so that the yielding logic is in a function call, and that function does not contain loops. For example, this should be fine:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">doU</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">u</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">--do stuff with u</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">vrYield</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token plain"> t </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token plain"> u </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> t </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> u </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">doU</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">u</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    u </span><span class="token operator">=</span><span class="token plain"> u </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  t </span><span class="token operator">=</span><span class="token plain"> t </span><span class="token operator">-</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="global-variables">Global Variables<a href="#global-variables" class="hash-link" aria-label="Direct link to Global Variables" title="Direct link to Global Variables">​</a></h5>
<p>When writing a script that makes use of <code>vrYield</code>, it is important to understand that global variables are shared between the main Lua state and any coroutines. This means that when your script yields, the values of any global variables are not guaranteed to be the same when the script resumes.</p>
<p>For example:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- AssemblyA.EventCreate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__Self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">-- prints AssemblyA</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vrYield</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__Self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">-- prints an undefined node (probably not AssemblyA)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If a script needs access to the global values it expects when the script it first executed, it should localise them somewhere in the script before the first call to <code>vrYield</code>.</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- AssemblyA.EventCreate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token plain"> me </span><span class="token operator">=</span><span class="token plain"> __Self</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">me</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">-- prints AssemblyA</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vrYield</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">me</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">-- prints AssemblyA</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="recompiling-coroutines">Recompiling Coroutines<a href="#recompiling-coroutines" class="hash-link" aria-label="Direct link to Recompiling Coroutines" title="Direct link to Recompiling Coroutines">​</a></h5>
<p>When editing scripts involving <code>vrYield</code>, compilation will automatically abort any previously running (and still sleeping) instances of the code. This is to avoid long running scripts becoming stuck, and waking up to perform out of date instructions which will most likely cause issues in the scripted simulations in the scene.</p>
<p>The exception to this is when executing code in the script console - no cleanup is done on the previously executing coroutine. This is intentional, because sometimes it is useful to write some test code that involves a long running script, and then also execute other code while that is running.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="managing-sleeping-coroutines">Managing Sleeping Coroutines<a href="#managing-sleeping-coroutines" class="hash-link" aria-label="Direct link to Managing Sleeping Coroutines" title="Direct link to Managing Sleeping Coroutines">​</a></h5>
<p>When a script calls <code>vrYield</code>, it goes to sleep for the specified (approximate) time. When this happens it is put into a list with all the other sleeping scripts, which is accessible from Lua itself using <code>vrListSleepingScripts</code>. This returns an array of sleeping coroutine names.</p>
<p>The name of a script can be set using <code>vrSetScriptIdentifier</code>, otherwise the name will just be a string representation of the coroutine memory address. This is not used for anything other than identification purposes and as the parameter to <code>vrAbortScript</code>, which can be used to abort a sleeping coroutine.</p>
<p>This can also be done using the Lua State tab in the Diagnostics window. The left panel displays the state of global variables, the right panel displays any sleeping scripts and provides an option to abort them.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/diagnostics-window-3def2fb9116d65c179d4b59f3a4de820.png" width="833" height="449" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lua-observers">Lua Observers<a href="#lua-observers" class="hash-link" aria-label="Direct link to Lua Observers" title="Direct link to Lua Observers">​</a></h4>
<p>New Lua observers and additional callbacks for existing observers.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="transform-node-observer">Transform Node Observer<a href="#transform-node-observer" class="hash-link" aria-label="Direct link to Transform Node Observer" title="Direct link to Transform Node Observer">​</a></h5>
<p>There is a new type of observer that can be registered from Lua, which observes changes in internal scenegraph nodes dealing with world and local transforms, as well as world and local enabled states.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="difference-from-property-observer">Difference from property observer<a href="#difference-from-property-observer" class="hash-link" aria-label="Direct link to Difference from property observer" title="Direct link to Difference from property observer">​</a></h6>
<p>A transform observer differs from a normal property observer because it only observes the <code>Enabled</code> and <code>Transform</code> properties, and is also notified in response to changes of state on any ancestor of the node being observed.</p>
<p>When an assembly node is disabled, all of its descendants are also considered to be disabled in terms of application systems traversing the tree to process child nodes. However, a normal property observer on an <code>Enabled</code> property of one of these descendants would not be notified of this change because the property of that node hasn&#x27;t actually changed.</p>
<p>Equally when an assembly node is moved, all of its descendants world transform change due to the nature of the transform hierarchy. A property observer on a <code>Transform</code> property of one of these descendants would not be notified of this change because the local transforms on these assemblies does not actually change when an ancestor transform changes.</p>
<p>This is the problem solved by the transform node observer.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h6>
<p>A transform observer is added using the <code>vrAddTransformNodeObserver</code> function.</p>
<p>Consider this hierarchy of assembly nodes in the Scenes tree:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Scenes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - A</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   - B</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     - C</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following code snippet, executed in the console, will add a transform observer to the <code>C</code> assembly node, providing callback functions for transform and enabled state changes that print out a message that show the state notification was successful.</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vrAddTransformNodeObserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;myObserver&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;transform changed&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> enabled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;enabled state changed&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">vrTreeRoot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Scenes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">B</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">C</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After running this example code, changing the transform or enabled property of any of <code>A</code>, <code>B</code>, or <code>C</code> will trigger the print messages.</p>
<p>The observer can also be removed using the <code>vrRemoveObserver</code> function, by providing the name (in this case &quot;myObserver&quot;).</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="changes-to-node-and-metanode-observers">Changes to Node and MetaNode Observers<a href="#changes-to-node-and-metanode-observers" class="hash-link" aria-label="Direct link to Changes to Node and MetaNode Observers" title="Direct link to Changes to Node and MetaNode Observers">​</a></h5>
<p><code>vrAddNodeObserver</code> and <code>vrAddMetaNodeObserver</code> have been extended to support additional callbacks.</p>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="node-observer">Node Observer<a href="#node-observer" class="hash-link" aria-label="Direct link to Node Observer" title="Direct link to Node Observer">​</a></h6>
<p>You can now specify a callback for when the observed node is destroyed.</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vrAddNodeObserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;myObserver&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;node property changed&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">vrTreeRoot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Scenes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">A</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nil</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;node destroying&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="metanode-observer">MetaNode Observer<a href="#metanode-observer" class="hash-link" aria-label="Direct link to MetaNode Observer" title="Direct link to MetaNode Observer">​</a></h6>
<p>You can now specify callbacks for parent change, renaming, and destroying.</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vrAddMetaNodeObserver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;myObserver&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;node instance created&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Assembly&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">nil</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> old</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> new</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;node parent changed from old to new&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;node instance renamed&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">meta</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;node instance destroying&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="pivot-api">Pivot API<a href="#pivot-api" class="hash-link" aria-label="Direct link to Pivot API" title="Direct link to Pivot API">​</a></h4>
<p>The internal implementation of pivots has been improved, and with this comes some new interfaces to simplify Lua interaction with Assemblies that are affected by a pivot point.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="creation">Creation<a href="#creation" class="hash-link" aria-label="Direct link to Creation" title="Direct link to Creation">​</a></h5>
<p>To add a pivot point to an Assembly, use</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token plain"> target </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">vrTreeRoot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token function" style="color:rgb(80, 250, 123)">find</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Scenes/My/Node&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">context_create_pivot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This adds a child node called &quot;Pivot&quot; to the <code>target</code> assembly node. This assembly node now behaves as if its origin is located at the pivot location.</p>
<p>The second argument specifies whether to place the pivot at the existing origin (<code>0</code>), or at the centre of the assembly bounding box (<code>1</code>).</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="transforms">Transforms<a href="#transforms" class="hash-link" aria-label="Direct link to Transforms" title="Direct link to Transforms">​</a></h5>
<p>To set the world or local transform of a node (pivot point as origin):</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">WorldTransform </span><span class="token operator">=</span><span class="token plain"> myNewWorldMatrix </span><span class="token comment" style="color:rgb(98, 114, 164)">--world</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Transform </span><span class="token operator">=</span><span class="token plain"> myNewLocalMatrix </span><span class="token comment" style="color:rgb(98, 114, 164)">--local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To set the world of local transform of a node, ignoring the pivot point:</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UnpivotedWorldTransform </span><span class="token operator">=</span><span class="token plain"> myNewWorldMatrix </span><span class="token comment" style="color:rgb(98, 114, 164)">--world</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UnpivotedTransform </span><span class="token operator">=</span><span class="token plain"> myNewLocalMatrix </span><span class="token comment" style="color:rgb(98, 114, 164)">--local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To set the transform of the pivot itself (this will not change the final position of target):</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Pivot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">WorldTransform </span><span class="token operator">=</span><span class="token plain"> myNewWorldMatrix </span><span class="token comment" style="color:rgb(98, 114, 164)">--world</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Pivot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Transform </span><span class="token operator">=</span><span class="token plain"> myNewLocalMatrix </span><span class="token comment" style="color:rgb(98, 114, 164)">--local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To set the post-transform of the pivot (similar to <code>target.UnpivotedTransform</code> but leaves the pivot point in place)</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Pivot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UnpivotedWorldTransform </span><span class="token operator">=</span><span class="token plain"> myNewWorldMatrix </span><span class="token comment" style="color:rgb(98, 114, 164)">--world</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">--or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Pivot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UnpivotedTransform </span><span class="token operator">=</span><span class="token plain"> myNewLocalMatrix </span><span class="token comment" style="color:rgb(98, 114, 164)">--local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-example">Advanced Example<a href="#advanced-example" class="hash-link" aria-label="Direct link to Advanced Example" title="Direct link to Advanced Example">​</a></h5>
<p>Moving an object around a pivot</p>
<div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">-- Ensure a pre-defined fix position of the target assembly for comparing results </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UnpivotedWorldTransform </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">vrMat4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UnpivotedWorldTransform</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Position </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- describe the pivot space ..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Pivot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">WorldTransform</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Position </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Pivot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">WorldTransform</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Rotation </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- Rotate the target assembly around its pivot point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">WorldTransform</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Rotation </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">20</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">-- Rotate the target assembly around its world transform (Set on pivot node so the position of the pivot wont change)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">target</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Pivot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">UnpivotedWorldTransform</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Rotation </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="136">1.3.6<a href="#136" class="hash-link" aria-label="Direct link to 1.3.6" title="Direct link to 1.3.6">​</a></h2>
<p><em>Released 2018-01-12</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-16">Fixed<a href="#fixed-16" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes a number of crashes caused by using Lua to set various setting values outside of the expected range</li>
<li>Fixes crash when providing invalid time format specifiers to <code>os.date</code> in a Lua script</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="133">1.3.3<a href="#133" class="hash-link" aria-label="Direct link to 1.3.3" title="Direct link to 1.3.3">​</a></h2>
<p><em>Released 2017-08-09</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-17">Fixed<a href="#fixed-17" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes issue with <code>vrPostCommand</code> in a file being loaded causing an infinite loop</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="132">1.3.2<a href="#132" class="hash-link" aria-label="Direct link to 1.3.2" title="Direct link to 1.3.2">​</a></h2>
<p><em>Released 2017-03-24</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-18">Fixed<a href="#fixed-18" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes issue where some functions on math objects exposed to Lua would conflict with other metatable entries (e.g. <code>.Scale</code> vs <code>scale()</code>)</li>
<li>Fixes issue with view shader targets and colour space in de-ghost and red-cyan shaders</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="131">1.3.1<a href="#131" class="hash-link" aria-label="Direct link to 1.3.1" title="Direct link to 1.3.1">​</a></h2>
<p><em>Released 2017-02-01</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-19">Fixed<a href="#fixed-19" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes issue where Lua functions <code>vrNodeComposeLocalTransform</code> and <code>vrNodeDecomposeTransform</code> would throw exceptions even if they were given perfectly valid matrices</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="13">1.3<a href="#13" class="hash-link" aria-label="Direct link to 1.3" title="Direct link to 1.3">​</a></h2>
<p><em>Released 2016-11-10</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-13">Added<a href="#added-13" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li>Adds <code>vrBodyAddImpulse</code> and <code>vrBodyAddImpulseMouse</code> to the Lua API</li>
<li>Adds <code>vrGetCursorPosition</code> and <code>vrGetLastClickedCursorPosition</code> to the Lua API</li>
<li>Adds Lua function <code>vrNodeGetRelativePath</code> and associated <code>node:relpath(other)</code> functions for getting the path of a node relative to another node</li>
<li>Adds Lua symbols for some property enum values which were previously missing, and unifies the naming convention of all symbols</li>
<li>Adds support for Lua coroutine yielding across the Lua/C boundary</li>
<li>Adds support for Lua function objects passed into VR functions that require a callback, instead of only relying on global functions passed by name</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-11">Changed<a href="#changed-11" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>Renames some of the properties of StdMaterial (scripts referencing these properties will trigger a warning on scene load and Lua script errors)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deprecated-3">Deprecated<a href="#deprecated-3" class="hash-link" aria-label="Direct link to Deprecated" title="Direct link to Deprecated">​</a></h4>
<ul>
<li>Deprecates old Lua PRS methods for accessing transform properties and adds new methods to use and access transform properties on nodes with a more consistent interface</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-20">Fixed<a href="#fixed-20" class="hash-link" aria-label="Direct link to Fixed" title="Direct link to Fixed">​</a></h4>
<ul>
<li>Fixes issue where a Lua script call to <code>find()</code> could fail when searching for children of a node with the same name</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="121">1.2.1<a href="#121" class="hash-link" aria-label="Direct link to 1.2.1" title="Direct link to 1.2.1">​</a></h2>
<p><em>Released 2016-06-09</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-12">Changed<a href="#changed-12" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>Lua functions registered with <code>vrAddNodeObserver</code> and similar, now have valid <code>__Script</code> and <code>__Self</code> registers when called</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11">1.1<a href="#11" class="hash-link" aria-label="Direct link to 1.1" title="Direct link to 1.1">​</a></h2>
<p><em>Released 2014-10-24</em></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="added-14">Added<a href="#added-14" class="hash-link" aria-label="Direct link to Added" title="Direct link to Added">​</a></h4>
<ul>
<li>Adds Lua interface for creating toolbars on the Tools window</li>
<li>Adds Lua interface to our maths library, allowing scripts to work with vectors, matrices, quaternions, spheres, bounding boxes and rays</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="changed-13">Changed<a href="#changed-13" class="hash-link" aria-label="Direct link to Changed" title="Direct link to Changed">​</a></h4>
<ul>
<li>Lua plugins are now automatically loaded from the Documents directory as well as the install directory</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/virtalis/docs/tree/master/docs/changelogs/visionary-render-api.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-07-04T17:16:16.000Z" itemprop="dateModified">Jul 4, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/changelogs/visionary-render"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Visionary Render</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#20252" class="table-of-contents__link toc-highlight">2025.2</a></li><li><a href="#20251" class="table-of-contents__link toc-highlight">2025.1</a></li><li><a href="#20243" class="table-of-contents__link toc-highlight">2024.3</a></li><li><a href="#20242" class="table-of-contents__link toc-highlight">2024.2</a></li><li><a href="#20241" class="table-of-contents__link toc-highlight">2024.1</a></li><li><a href="#20232" class="table-of-contents__link toc-highlight">2023.2</a></li><li><a href="#20222" class="table-of-contents__link toc-highlight">2022.2</a></li><li><a href="#20221" class="table-of-contents__link toc-highlight">2022.1</a></li><li><a href="#202131" class="table-of-contents__link toc-highlight">2021.3.1</a></li><li><a href="#20213" class="table-of-contents__link toc-highlight">2021.3</a></li><li><a href="#20212" class="table-of-contents__link toc-highlight">2021.2</a></li><li><a href="#202111" class="table-of-contents__link toc-highlight">2021.1.1</a></li><li><a href="#20211" class="table-of-contents__link toc-highlight">2021.1</a></li><li><a href="#20202" class="table-of-contents__link toc-highlight">2020.2</a></li><li><a href="#20201" class="table-of-contents__link toc-highlight">2020.1</a></li><li><a href="#20195" class="table-of-contents__link toc-highlight">2019.5</a></li><li><a href="#20193" class="table-of-contents__link toc-highlight">2019.3</a></li><li><a href="#20192" class="table-of-contents__link toc-highlight">2019.2</a></li><li><a href="#20191" class="table-of-contents__link toc-highlight">2019.1</a></li><li><a href="#22" class="table-of-contents__link toc-highlight">2.2</a></li><li><a href="#21" class="table-of-contents__link toc-highlight">2.1</a></li><li><a href="#20" class="table-of-contents__link toc-highlight">2.0</a></li><li><a href="#136" class="table-of-contents__link toc-highlight">1.3.6</a></li><li><a href="#133" class="table-of-contents__link toc-highlight">1.3.3</a></li><li><a href="#132" class="table-of-contents__link toc-highlight">1.3.2</a></li><li><a href="#131" class="table-of-contents__link toc-highlight">1.3.1</a></li><li><a href="#13" class="table-of-contents__link toc-highlight">1.3</a></li><li><a href="#121" class="table-of-contents__link toc-highlight">1.2.1</a></li><li><a href="#11" class="table-of-contents__link toc-highlight">1.1</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__items"><div class="footer__item">© 2025 Virtalis Group. All rights reserved.</div></div></div><div class="col footer__col"><div class="footer__items"><div class="footer__item"><a href="https://www.virtalis.com/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About</a></div><div class="footer__item"><a href="https://www.virtalis.com/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact</a></div><div class="footer__item"><a href="https://www.virtalis.com/support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support</a></div><div class="footer__item"><a class="footer__link-item" href="/glossary">Glossary</a></div><div class="footer__item"><a class="footer__link-item" href="/privacy-policy">Privacy Policy</a></div></div></div><div class="col footer__col"><div class="footer__items"><div class="footer__item"><a href="https://virtalis.com" target="_blank" rel="noreferrer noopener" aria-label="Virtalis Homepage"><img src="assets/logos/virtalis.svg" alt="Virtalis Logo" class="footer__icon"></a></div><div class="footer__item"><a href="https://github.com/virtalis" target="_blank" rel="noreferrer noopener" aria-label="Virtalis GitHub"><img src="assets/logos/github.svg" alt="GitHub Logo" class="footer__icon"></a></div><div class="footer__item"><a href="https://www.linkedin.com/company/virtalis/" target="_blank" rel="noreferrer noopener" aria-label="Virtalis LinkedIn"><img src="assets/logos/linkedin.svg" alt="LinkedIn Logo" class="footer__icon"></a></div><div class="footer__item"><a href="https://www.youtube.com/@VirtalisReality" target="_blank" rel="noreferrer noopener" aria-label="Virtalis YouTube"><img src="assets/logos/youtube.svg" alt="YouTube Logo" class="footer__icon"></a></div></div></div></div></div></footer></div>
</body>
</html>