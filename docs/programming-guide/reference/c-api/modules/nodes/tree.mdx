---
title: Tree
summary: Functions for operating on the node structure of the VR Tree. 
---

# Tree

**Module:** **[Nodes](../nodes/index.mdx)**

Functions for operating on the node structure of the VR Tree. 

## Functions

| Type           | Name           |
| -------------- | -------------- |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRCloneNode](#vrclonenode)**([HNode](../../definitions/types.mdx#typedef-hnode) parentNode, [HNode](../../definitions/types.mdx#typedef-hnode) nodeToClone, int recursive)<br />Clones an existing node.  |
| int | **[VRCompareNode](#vrcomparenode)**([HNode](../../definitions/types.mdx#typedef-hnode) lhs, [HNode](../../definitions/types.mdx#typedef-hnode) rhs, int checkNameMatches)<br />Compares all the properties on both nodes to make sure they are equal.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRCreateNode](#vrcreatenode)**([HNode](../../definitions/types.mdx#typedef-hnode) parentNode, const char * metaName, const char * nodeName)<br />Creates a node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRCreateNodeEx](#vrcreatenodeex)**([HNode](../../definitions/types.mdx#typedef-hnode) parentNode, const char * metaName, const char * nodeName, uint64_t flags, uint64_t idLO, uint64_t idHI, int userChange)<br />Creates a node.  |
| int | **[VRDeleteNode](#vrdeletenode)**([HNode](../../definitions/types.mdx#typedef-hnode) node)<br />Deletes a node and all its children.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRFind](#vrfind)**([HNode](../../definitions/types.mdx#typedef-hnode) startNode, const char * path)<br />Finds a descendant of startNode using its path.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRFindChild](#vrfindchild)**([HNode](../../definitions/types.mdx#typedef-hnode) startNode, const char * childName, uint32_t index)<br />Finds a direct child of startNode. Index is used to specify n'th child if multiple children have the same name.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRFindChildPooled](#vrfindchildpooled)**([HNode](../../definitions/types.mdx#typedef-hnode) startNode, const char * metaNode, const char * childName)<br />Finds a direct child of startNode by specifying name and type.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRFindOrCreateChild](#vrfindorcreatechild)**([HNode](../../definitions/types.mdx#typedef-hnode) parentNode, const char * metaName, const char * nodeName)<br />Gets or creates a node matching metanode and name.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRFindOrCreateChildEx](#vrfindorcreatechildex)**([HNode](../../definitions/types.mdx#typedef-hnode) parentNode, const char * metaName, const char * nodeName, uint64_t flags, uint64_t idLO, uint64_t idHI, int userChange)<br />Gets or creates a node matching metanode and name.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetChild](#vrgetchild)**([HNode](../../definitions/types.mdx#typedef-hnode) node)<br />Gets the first child of node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetChildOfType](#vrgetchildoftype)**([HNode](../../definitions/types.mdx#typedef-hnode) node, const char * childMetaNode)<br />Gets the first child of a specific type.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetLibrariesNode](#vrgetlibrariesnode)**(void )<br />Gets the VRTree libraries node.  |
| [HMeta](../../definitions/types.mdx#typedef-hmeta) | **[VRGetMetaNode](#vrgetmetanode)**([HNode](../../definitions/types.mdx#typedef-hnode) node)<br />Gets the metanode of a node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetNext](#vrgetnext)**([HNode](../../definitions/types.mdx#typedef-hnode) node)<br />Gets the next sibling of a node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetNextOfType](#vrgetnextoftype)**([HNode](../../definitions/types.mdx#typedef-hnode) node, const char * nextMetaNode)<br />Gets the next sibling of a specific type.  |
| size_t | **[VRGetNodeName](#vrgetnodename)**([HNode](../../definitions/types.mdx#typedef-hnode) node, char * buffer, size_t bufferLength)<br />Gets the name of a node.  |
| size_t | **[VRGetNodeNameLength](#vrgetnodenamelength)**([HNode](../../definitions/types.mdx#typedef-hnode) node)<br />Gets the length of a node's name, plus 1 for the trailing null terminator.  |
| size_t | **[VRGetNodePath](#vrgetnodepath)**([HNode](../../definitions/types.mdx#typedef-hnode) node, char * buffer, size_t bufferLength)<br />Gets the path of a node.  |
| size_t | **[VRGetNodePathLength](#vrgetnodepathlength)**([HNode](../../definitions/types.mdx#typedef-hnode) node)<br />Gets the length of a node's path.  |
| void * | **[VRGetNodeUserData](#vrgetnodeuserdata)**([HNode](../../definitions/types.mdx#typedef-hnode) node, [HUserSlot](../../definitions/types.mdx#typedef-huserslot) slot)<br />Stores a pointer on the node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetParent](#vrgetparent)**([HNode](../../definitions/types.mdx#typedef-hnode) node)<br />Gets the parent of a node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetPrev](#vrgetprev)**([HNode](../../definitions/types.mdx#typedef-hnode) node)<br />Gets the previous sibling of a node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetPrevOfType](#vrgetprevoftype)**([HNode](../../definitions/types.mdx#typedef-hnode) node, const char * prevMetaNode)<br />Gets the previous sibling of a specific type.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetRootNode](#vrgetrootnode)**(void )<br />Gets the VRTree root node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetScenesNode](#vrgetscenesnode)**(void )<br />Gets the VRTree scenes node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetSystemLibraryNode](#vrgetsystemlibrarynode)**(void )<br />Gets the VRTree system library node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetThisUser](#vrgetthisuser)**(void )<br />Gets the VRTree user node.  |
| size_t | **[VRGetType](#vrgettype)**([HNode](../../definitions/types.mdx#typedef-hnode) node, char * buffer, size_t bufferLength)<br />Gets the type of a node.  |
| size_t | **[VRGetTypeLength](#vrgettypelength)**([HNode](../../definitions/types.mdx#typedef-hnode) node)<br />Gets the length of the type name of a node.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRGetUsersNode](#vrgetusersnode)**(void )<br />Gets the VRTree users node.  |
| int | **[VRIsAncestor](#vrisancestor)**([HNode](../../definitions/types.mdx#typedef-hnode) a, [HNode](../../definitions/types.mdx#typedef-hnode) b)<br />Checks if node a is an ancestor of node b.  |
| int | **[VRIsDirty](#vrisdirty)**([HNode](../../definitions/types.mdx#typedef-hnode) node, const char * propName)<br />Determines if a node value has been changed/dirtied.  |
| int | **[VRIsDirtyEx](#vrisdirtyex)**([HNode](../../definitions/types.mdx#typedef-hnode) node, uint32_t prop)<br />Determines if a node value has been changed/dirtied.  |
| int | **[VRIsNodeName](#vrisnodename)**([HNode](../../definitions/types.mdx#typedef-hnode) node, const char * name)<br />Checks if the name of the node is equal to parameter.  |
| int | **[VRIsSameNode](#vrissamenode)**([HNode](../../definitions/types.mdx#typedef-hnode) a, [HNode](../../definitions/types.mdx#typedef-hnode) b)<br />Checks if two node handles are pointing at the same node.  |
| int | **[VRIsType](#vristype)**([HNode](../../definitions/types.mdx#typedef-hnode) node, const char * metaName)<br />Determines if a node is of a particular type.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRLoadTree](#vrloadtree)**([HNode](../../definitions/types.mdx#typedef-hnode) targetNode, const char * fileName)<br />Loads a VRText or VRNative format file from disk.  |
| [HNode](../../definitions/types.mdx#typedef-hnode) | **[VRLoadTreeEx](#vrloadtreeex)**([HNode](../../definitions/types.mdx#typedef-hnode) targetNode, const char * fileName, uint64_t ioFlags, uint32_t builderFlags, uint32_t builderMetaFlags)<br />Loads a VRText or VRNative format file from disk.  |
| int | **[VRSaveTree](#vrsavetree)**([HNode](../../definitions/types.mdx#typedef-hnode) rootNode, const char * fileName)<br />Saves the tree to a VRText or VRNative format file on disk.  |
| int | **[VRSaveTreeEx](#vrsavetreeex)**([HNode](../../definitions/types.mdx#typedef-hnode) rootNode, const char * fileName, uint64_t ioFlags)<br />Saves the tree to a VRText or VRNative format file on disk.  |
| int | **[VRSetNodeName](#vrsetnodename)**([HNode](../../definitions/types.mdx#typedef-hnode) node, const char * name)<br />Sets the name of a node.  |
| void * | **[VRSetNodeUserData](#vrsetnodeuserdata)**([HNode](../../definitions/types.mdx#typedef-hnode) node, [HUserSlot](../../definitions/types.mdx#typedef-huserslot) slot, void * data)<br />Stores a pointer on the node.  |
| int | **[VRSetParent](#vrsetparent)**([HNode](../../definitions/types.mdx#typedef-hnode) node, [HNode](../../definitions/types.mdx#typedef-hnode) parent)<br />Sets the parent of a node, adding it as the last child.  |
| int | **[VRSetParentEx](#vrsetparentex)**([HNode](../../definitions/types.mdx#typedef-hnode) node, [HNode](../../definitions/types.mdx#typedef-hnode) parent, [HNode](../../definitions/types.mdx#typedef-hnode) afterSibling)<br />Sets the parent of a node, specifying a sibling to insert after.  |

## Functions Documentation

### VRCloneNode

```cpp
HNode VRCloneNode(
    HNode parentNode,
    HNode nodeToClone,
    int recursive
)
```

Clones an existing node. 

**Parameters**: 

  * **parentNode** Handle to the parent of the new node 
  * **nodeToClone** the node to copy 
  * **recursive** if not 0, also copies descendants 

**Return**: the copy of nodeToClone 

### VRCompareNode

```cpp
int VRCompareNode(
    HNode lhs,
    HNode rhs,
    int checkNameMatches
)
```

Compares all the properties on both nodes to make sure they are equal. 

**Parameters**: 

  * **lhs** first node to compare 
  * **rhs** second node to compare 
  * **checkNameMatches** whether to compare the node name as well as the properties (non-zero to enable) 

**Return**: 1 if the nodes are the same, 0 if they are not 

### VRCreateNode

```cpp
HNode VRCreateNode(
    HNode parentNode,
    const char * metaName,
    const char * nodeName
)
```

Creates a node. 

**Parameters**: 

  * **parentNode** Handle to the parent of the new node 
  * **metaName** type of node to create 
  * **nodeName** name of the new node 

**Return**: node handle 

### VRCreateNodeEx

```cpp
HNode VRCreateNodeEx(
    HNode parentNode,
    const char * metaName,
    const char * nodeName,
    uint64_t flags,
    uint64_t idLO,
    uint64_t idHI,
    int userChange
)
```

Creates a node. 

**Parameters**: 

  * **parentNode** Handle to the parent of the new node 
  * **metaName** type of node to create 
  * **nodeName** name of the new node 
  * **flags** creation flags (bits) to provide to the new node 
  * **idLO** low 64bits of a unique id (or 0 for auto ID) 
  * **idHI** high 64bits of a unique id (or 0 for auto ID) 
  * **userChange** whether the change is a response to a user action 

**Note**: Flags larger than 16bits will be truncated. 

### VRDeleteNode

```cpp
int VRDeleteNode(
    HNode node
)
```

Deletes a node and all its children. 

**Parameters**: 

  * **node** the node to delete 

**Return**: 0 if deletion successful 

### VRFind

```cpp
HNode VRFind(
    HNode startNode,
    const char * path
)
```

Finds a descendant of startNode using its path. 

**Parameters**: 

  * **startNode** node to search from 
  * **path** path from start node to requested node 

**Return**: handle to requested node or NULL if not found 

### VRFindChild

```cpp
HNode VRFindChild(
    HNode startNode,
    const char * childName,
    uint32_t index
)
```

Finds a direct child of startNode. Index is used to specify n'th child if multiple children have the same name. 

**Parameters**: 

  * **startNode** node to get the child from 
  * **childName** name of the child 
  * **index** index of child with non-unique name 

**Return**: handle to requested node or NULL if not found 

### VRFindChildPooled

```cpp
HNode VRFindChildPooled(
    HNode startNode,
    const char * metaNode,
    const char * childName
)
```

Finds a direct child of startNode by specifying name and type. 

**Parameters**: 

  * **startNode** node to get child from 
  * **metaNode** type of child node to get 
  * **childName** name of the child node to return 

**Return**: handle to found node or NULL if not found 

### VRFindOrCreateChild

```cpp
HNode VRFindOrCreateChild(
    HNode parentNode,
    const char * metaName,
    const char * nodeName
)
```

Gets or creates a node matching metanode and name. 

**Parameters**: 

  * **parentNode** Handle to the parent of the node 
  * **metaName** type of node to create 
  * **nodeName** name of the new node 

**Return**: node handle 

### VRFindOrCreateChildEx

```cpp
HNode VRFindOrCreateChildEx(
    HNode parentNode,
    const char * metaName,
    const char * nodeName,
    uint64_t flags,
    uint64_t idLO,
    uint64_t idHI,
    int userChange
)
```

Gets or creates a node matching metanode and name. 

**Parameters**: 

  * **parentNode** Handle to the parent of the node 
  * **metaName** type of node to create 
  * **nodeName** name of the new node 

**Return**: node handle 

### VRGetChild

```cpp
HNode VRGetChild(
    HNode node
)
```

Gets the first child of node. 

**Return**: first child or NULL if no children 

### VRGetChildOfType

```cpp
HNode VRGetChildOfType(
    HNode node,
    const char * childMetaNode
)
```

Gets the first child of a specific type. 

**Parameters**: 

  * **childMetaNode** the type of child to get 

**Return**: first child of requested type, or NULL if no children/no children of this type 

### VRGetLibrariesNode

```cpp
HNode VRGetLibrariesNode(
    void 
)
```

Gets the VRTree libraries node. 

### VRGetMetaNode

```cpp
HMeta VRGetMetaNode(
    HNode node
)
```

Gets the metanode of a node. 

**Return**: metanode or NULL if no metanode 

### VRGetNext

```cpp
HNode VRGetNext(
    HNode node
)
```

Gets the next sibling of a node. 

**Return**: sibling or NULL if no siblings 

### VRGetNextOfType

```cpp
HNode VRGetNextOfType(
    HNode node,
    const char * nextMetaNode
)
```

Gets the next sibling of a specific type. 

**Parameters**: 

  * **nextMetaNode** the type of sibling to get 

**Return**: next sibling of requested type, or NULL if no siblings/no siblings of this type 

### VRGetNodeName

```cpp
size_t VRGetNodeName(
    HNode node,
    char * buffer,
    size_t bufferLength
)
```

Gets the name of a node. 

**Parameters**: 

  * **node** handle to the node 
  * **buffer** a buffer to receive the node name as a null terminated string 
  * **size** size of the buffer 

**Return**: the number of characters written to the buffer (including trailing null) 

### VRGetNodeNameLength

```cpp
size_t VRGetNodeNameLength(
    HNode node
)
```

Gets the length of a node's name, plus 1 for the trailing null terminator. 

**Parameters**: 

  * **node** handle to the node 

### VRGetNodePath

```cpp
size_t VRGetNodePath(
    HNode node,
    char * buffer,
    size_t bufferLength
)
```

Gets the path of a node. 

**Parameters**: 

  * **node** handle to the node 
  * **buffer** a buffer to recieve the node path as a null terminated string 
  * **size** size of the buffer 

**Return**: the number of characters written to the buffer (including trailing null) 

**Note**: if buffer is null, function returns the required size of the buffer 

### VRGetNodePathLength

```cpp
size_t VRGetNodePathLength(
    HNode node
)
```

Gets the length of a node's path. 

**Parameters**: 

  * **node** handle to the node 

### VRGetNodeUserData

```cpp
void * VRGetNodeUserData(
    HNode node,
    HUserSlot slot
)
```

Stores a pointer on the node. 

**Parameters**: 

  * **node** handle to the node 

**Return**: user data bound to slot 

### VRGetParent

```cpp
HNode VRGetParent(
    HNode node
)
```

Gets the parent of a node. 

**Return**: parent node or NULL if no parent (root node) 

### VRGetPrev

```cpp
HNode VRGetPrev(
    HNode node
)
```

Gets the previous sibling of a node. 

**Return**: sibling or NULL if no siblings 

### VRGetPrevOfType

```cpp
HNode VRGetPrevOfType(
    HNode node,
    const char * prevMetaNode
)
```

Gets the previous sibling of a specific type. 

**Parameters**: 

  * **prevMetaNode** the type of sibling to get 

**Return**: previous sibling of requested type, or NULL if no siblings/no siblings of this type 

### VRGetRootNode

```cpp
HNode VRGetRootNode(
    void 
)
```

Gets the VRTree root node. 

### VRGetScenesNode

```cpp
HNode VRGetScenesNode(
    void 
)
```

Gets the VRTree scenes node. 

### VRGetSystemLibraryNode

```cpp
HNode VRGetSystemLibraryNode(
    void 
)
```

Gets the VRTree system library node. 

### VRGetThisUser

```cpp
HNode VRGetThisUser(
    void 
)
```

Gets the VRTree user node. 

### VRGetType

```cpp
size_t VRGetType(
    HNode node,
    char * buffer,
    size_t bufferLength
)
```

Gets the type of a node. 

**Parameters**: 

  * **node** handle to the node 
  * **buffer** a buffer to recieve the node type name as a null terminated string 
  * **size** size of the buffer 

**Return**: the number of characters written to the buffer (including trailing null) 

### VRGetTypeLength

```cpp
size_t VRGetTypeLength(
    HNode node
)
```

Gets the length of the type name of a node. 

### VRGetUsersNode

```cpp
HNode VRGetUsersNode(
    void 
)
```

Gets the VRTree users node. 

### VRIsAncestor

```cpp
int VRIsAncestor(
    HNode a,
    HNode b
)
```

Checks if node a is an ancestor of node b. 

**Parameters**: 

  * **a** first node 
  * **b** second node 

**Return**: 1 if a is an ancestor of b 

### VRIsDirty

```cpp
int VRIsDirty(
    HNode node,
    const char * propName
)
```

Determines if a node value has been changed/dirtied. 

**Parameters**: 

  * **node** handle to the node 
  * **propName** name of the property on this node 

**Return**: 1 if node property is dirty, 0 if it is not 

### VRIsDirtyEx

```cpp
int VRIsDirtyEx(
    HNode node,
    uint32_t prop
)
```

Determines if a node value has been changed/dirtied. 

**Parameters**: 

  * **node** handle to the node 
  * **prop** the index of the property to set 

**Return**: 1 if node property is dirty, 0 if it is not 

### VRIsNodeName

```cpp
int VRIsNodeName(
    HNode node,
    const char * name
)
```

Checks if the name of the node is equal to parameter. 

**Parameters**: 

  * **node** handle to the node 
  * **name** to check against 

**Return**: 1 if name is equal -1 if node invalid 0 if not equal 

### VRIsSameNode

```cpp
int VRIsSameNode(
    HNode a,
    HNode b
)
```

Checks if two node handles are pointing at the same node. 

**Parameters**: 

  * **a** first node 
  * **b** second node 

**Return**: 1 if the nodes are the same 

### VRIsType

```cpp
int VRIsType(
    HNode node,
    const char * metaName
)
```

Determines if a node is of a particular type. 

**Parameters**: 

  * **node** handle to the node 
  * **metaName** name of the node type to match 

**Return**: 1 if node is of type metaName, 0 if it is not 

### VRLoadTree

```cpp
HNode VRLoadTree(
    HNode targetNode,
    const char * fileName
)
```

Loads a VRText or VRNative format file from disk. 

**Parameters**: 

  * **targetNode** the node to load the file onto (usually root) 
  * **fileName** the full path to the file to load 

**Return**: The first new child of targetNode, or NULL if load failed 

### VRLoadTreeEx

```cpp
HNode VRLoadTreeEx(
    HNode targetNode,
    const char * fileName,
    uint64_t ioFlags,
    uint32_t builderFlags,
    uint32_t builderMetaFlags
)
```

Loads a VRText or VRNative format file from disk. 

**Parameters**: 

  * **targetNode** the node to load the file onto (usually root) 
  * **fileName** the full path to the file to load 
  * **ioFlags** Input flags to apply while loading the tree 
  * **builderFlags** flags which adjust the behaviour of the builder 
  * **builderMetaFlags** additional MetaNode flags applied to nodes created by the tree builder 

**Return**: The first new child of targetNode, or NULL if load failed 

### VRSaveTree

```cpp
int VRSaveTree(
    HNode rootNode,
    const char * fileName
)
```

Saves the tree to a VRText or VRNative format file on disk. 

**Parameters**: 

  * **rootNode** the node to start saving from (usually root) 
  * **fileName** the full path to the file to save to 

**Return**: 0 if the save was successful 

### VRSaveTreeEx

```cpp
int VRSaveTreeEx(
    HNode rootNode,
    const char * fileName,
    uint64_t ioFlags
)
```

Saves the tree to a VRText or VRNative format file on disk. 

**Parameters**: 

  * **rootNode** the node to start saving from (usually root). 
  * **fileName** the full path to the file to save to. 

**Return**: 0 if the save was successful. 

### VRSetNodeName

```cpp
int VRSetNodeName(
    HNode node,
    const char * name
)
```

Sets the name of a node. 

**Parameters**: 

  * **node** handle to the node 
  * **name** the new node name 

**Return**: 0 on success 

### VRSetNodeUserData

```cpp
void * VRSetNodeUserData(
    HNode node,
    HUserSlot slot,
    void * data
)
```

Stores a pointer on the node. 

**Parameters**: 

  * **node** handle to the node 
  * **data** which you wish to store in slot, can be null to remove data 

**Return**: previously bound data, if any 

### VRSetParent

```cpp
int VRSetParent(
    HNode node,
    HNode parent
)
```

Sets the parent of a node, adding it as the last child. 

**Return**: 0 on success 

### VRSetParentEx

```cpp
int VRSetParentEx(
    HNode node,
    HNode parent,
    HNode afterSibling
)
```

Sets the parent of a node, specifying a sibling to insert after. 

**Parameters**: 

  * **afterSibling** the node after which to insert this node. If null, inserts as first child of parent 

**Return**: 0 on success 
