import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Provide a Data Exporter

## Exporter Entry Points

- implement @ref VRPExportProc "VRPExport" (Lua: `export`) to recieve the export request
- implement @ref VRPFormatsProc "VRPExportFormats" (Lua: `exportFormats`) to provide a description of supported formats
- **optionally** implement @ref VRPSettingsInterfaceProc "VRPExportSettingsInterface" (Lua: `exportSettingsInterface`) to provide a description of configurable settings that affect the export behaviour
- if providing settings interface, implement @ref VRPDefaultRecipeProc "VRPExportDefaultRecipe" (Lua: `exportRecipe`) to provide a default filename for the recipe file generated by the settings description

When a plugin implements these entry points, it appears in the application export menu.

![](/img/programming-guide/plugin_export_menu.png)

### Example Code

<Tabs>
<TabItem value="cpp" label="C++">

```cpp
PLUGIN_ENTRY_POINT const char* VRTREE_APIENTRY VRPExportFormats()
{
  return "<filetypes><type ext=\"txt\" desc=\"Text File\" /></filetypes>";
}

PLUGIN_ENTRY_POINT int VRTREE_APIENTRY VRPExport(const char *file, 
                                                 HNode root, 
                                                 HNode scenes, 
                                                 HNode libs, 
                                                 const char *recipePath)
{
  //read nodes from scenes and/or libs and write them to the exported file format
  
  //return 0 on successful export
  return 1;
}
```

</TabItem>
<TabItem value="lua" label="Lua">

```lua
-- assuming module exports according to recommendation in "Getting Started"

local function exportFormats()
  return "<filetypes><type ext=\"txt\" desc=\"Text File\" /></filetypes>"
end

local function export(file, root, scenes, libs, recipePath)
  -- read nodes from scenes and/or libs and write them to the exported file format
  
  -- return 0 on successful export
  return 1
end

return {
  -- alongside existing exports
  exportFormats = exportFormats,
  export = export
}
```

</TabItem>
</Tabs>

## Settings Interface

The exporter settings interface behaves in exactly the same way as the one for @ref importer_howto "Importers".
