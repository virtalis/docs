import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Provide a Data Exporter

## Exporter Entry Points

- implement [VRPExportProc](../../reference/c-api/modules/plugins/interface.mdx#typedef-vrpexportproc) (Lua: `export`) to recieve the export request
- implement [VRPFormatsProc](../../reference/c-api/modules/plugins/interface.mdx#typedef-vrpformatsproc) (Lua: `exportFormats`) to provide a description of supported formats
- **optionally** implement [VRPSettingsInterfaceProc](../../reference/c-api/modules/plugins/interface.mdx#typedef-vrpsettingsinterfaceproc) (Lua: `exportSettingsInterface`) to provide a description of configurable settings that affect the export behaviour
- if providing settings interface, implement [VRPDefaultRecipeProc](../../reference/c-api/modules/plugins/interface.mdx#typedef-vrpdefaultrecipeproc) (Lua: `exportRecipe`) to provide a default filename for the recipe file generated by the settings description

When a plugin implements these entry points, it appears in the application export menu.

![](/img/visren-dev/plugin-export-menu.png)

### Example Code

<Tabs>
<TabItem value="cpp" label="C++">

```cpp
PLUGIN_ENTRY_POINT const char* VRTREE_APIENTRY VRPExportFormats()
{
  return "<filetypes><type ext=\"txt\" desc=\"Text File\" /></filetypes>";
}

PLUGIN_ENTRY_POINT int VRTREE_APIENTRY VRPExport(const char *file, 
                                                 HNode root, 
                                                 HNode scenes, 
                                                 HNode libs, 
                                                 const char *recipePath)
{
  //read nodes from scenes and/or libs and write them to the exported file format
  
  //return 0 on successful export
  return 1;
}
```

</TabItem>
<TabItem value="lua" label="Lua">

```lua
-- assuming module exports according to recommendation in "Getting Started"

local function exportFormats()
  return "<filetypes><type ext=\"txt\" desc=\"Text File\" /></filetypes>"
end

local function export(file, root, scenes, libs, recipePath)
  -- read nodes from scenes and/or libs and write them to the exported file format
  
  -- return 0 on successful export
  return 1
end

return {
  -- alongside existing exports
  exportFormats = exportFormats,
  export = export
}
```

</TabItem>
</Tabs>

## Settings Interface

The exporter settings interface behaves in exactly the same way as the one for [Data Importers](../tutorials/data-importer.mdx).
