"use strict";(self.webpackChunkvirtalis_docs=self.webpackChunkvirtalis_docs||[]).push([[8458],{40999:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"visionary-render-programming/scripts/getting-started/script-editor","title":"Script Editor","description":"The Script Editor is a simple text editor that permits you to write Lua scripts and GLSL code. To open the Script Editor, click on the Virtalis button at the top-left of the Toolbar and select Windows > Script Editor. Alternatively, click and hold left mouse button over the Windows menu of the Toolbar and select Script Editor. It can also be shown or hidden with Ctrl + L.","source":"@site/docs/visionary-render-programming/scripts/getting-started/script-editor.mdx","sourceDirName":"visionary-render-programming/scripts/getting-started","slug":"/visionary-render-programming/scripts/getting-started/script-editor","permalink":"/visionary-render-programming/scripts/getting-started/script-editor","draft":false,"unlisted":false,"editUrl":"https://github.com/virtalis/docs/tree/master/docs/visionary-render-programming/scripts/getting-started/script-editor.mdx","tags":[],"version":"current","lastUpdatedAt":1742892037000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"visionaryRenderProgrammingSidebar","previous":{"title":"Best Practices","permalink":"/visionary-render-programming/scripts/best-practices"},"next":{"title":"Events","permalink":"/visionary-render-programming/scripts/getting-started/events"}}');var i=r(74848),s=r(28453),o=r(65537),d=r(79329);const a={sidebar_position:1},l="Script Editor",c={},h=[{value:"Tab Bar",id:"tab-bar",level:2},{value:"Text Editor",id:"text-editor",level:2},{value:"Syntax Highlighting",id:"syntax-highlighting",level:3},{value:"Autocomplete",id:"autocomplete",level:3},{value:"Drag-and-drop",id:"drag-and-drop",level:3},{value:"Output Panel",id:"output-panel",level:2},{value:"Console",id:"console",level:2},{value:"Example Code",id:"example-code",level:3},{value:"Find and Replace",id:"find-and-replace",level:2},{value:"Find",id:"find",level:3},{value:"Replace",id:"replace",level:3},{value:"Filters",id:"filters",level:3}];function p(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"script-editor",children:"Script Editor"})}),"\n",(0,i.jsxs)(t.p,{children:["The Script Editor is a simple text editor that permits you to write Lua scripts and GLSL code. To open the Script Editor, click on the Virtalis button at the top-left of the Toolbar and select ",(0,i.jsx)(t.code,{children:"Windows"})," > ",(0,i.jsx)(t.code,{children:"Script Editor"}),". Alternatively, click and hold left mouse button over the Windows menu of the Toolbar and select Script Editor. It can also be shown or hidden with ",(0,i.jsx)(t.code,{children:"Ctrl"})," + ",(0,i.jsx)(t.code,{children:"L"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:r(52617).A+"",width:"542",height:"389"})}),"\n",(0,i.jsx)(t.h2,{id:"tab-bar",children:"Tab Bar"}),"\n",(0,i.jsx)(t.p,{children:"The tab bar permits multiple scripts to be opened at once (alongside the Console, which is always open). The title of a tab is the name of the parent node that the script is attached to followed by the type of script. The icon may be one of the following:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Icon"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("img",{src:"/img/visionary-render-programming/script-editor-script-icon.png"})}),(0,i.jsx)(t.td,{children:"A script with no unsaved changes or compile errors."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("img",{src:"/img/visionary-render-programming/script-editor-save-icon.png"})}),(0,i.jsx)(t.td,{children:"A script with unsaved changes."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("img",{src:"/img/visionary-render-programming/script-editor-broken-icon.png"})}),(0,i.jsx)(t.td,{children:"A script with compile errors."})]})]})]}),"\n",(0,i.jsx)(t.p,{children:"Mouse over a tab to see a tooltip with the path to the script in the scene. Right-click on a tab to open the context menu."}),"\n",(0,i.jsx)(t.h2,{id:"text-editor",children:"Text Editor"}),"\n",(0,i.jsx)(t.p,{children:"The text editor is the main panel of the window. It permits code to be created and edited and supports typical programming aids like syntax highlighting and autocomplete."}),"\n",(0,i.jsx)(t.h3,{id:"syntax-highlighting",children:"Syntax Highlighting"}),"\n",(0,i.jsx)(t.p,{children:"The Script Editor supports the following syntax highlighting:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Colour"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"White"}),(0,i.jsx)(t.td,{children:"Default text like user variables, functions, and operators, etc."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Red"}),(0,i.jsxs)(t.td,{children:["Lua keywords. These are reserved and cannot be used for variable and function names, etc. The reserved keywords are: ",(0,i.jsx)(t.code,{children:"and"}),", ",(0,i.jsx)(t.code,{children:"break"}),", ",(0,i.jsx)(t.code,{children:"do"}),", ",(0,i.jsx)(t.code,{children:"else"}),", ",(0,i.jsx)(t.code,{children:"elseif"}),", ",(0,i.jsx)(t.code,{children:"end"}),", ",(0,i.jsx)(t.code,{children:"false"}),", ",(0,i.jsx)(t.code,{children:"for"}),", ",(0,i.jsx)(t.code,{children:"function"}),", ",(0,i.jsx)(t.code,{children:"if"}),", ",(0,i.jsx)(t.code,{children:"in"}),", ",(0,i.jsx)(t.code,{children:"local"}),", ",(0,i.jsx)(t.code,{children:"nil"}),", ",(0,i.jsx)(t.code,{children:"not"}),", ",(0,i.jsx)(t.code,{children:"or"}),", ",(0,i.jsx)(t.code,{children:"repeat"}),", ",(0,i.jsx)(t.code,{children:"return"}),", ",(0,i.jsx)(t.code,{children:"then"}),", ",(0,i.jsx)(t.code,{children:"true"}),", ",(0,i.jsx)(t.code,{children:"until"}),", and ",(0,i.jsx)(t.code,{children:"while"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Blue"}),(0,i.jsx)(t.td,{children:"Literal strings (i.e. text wrapped in quotes)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Green"}),(0,i.jsx)(t.td,{children:"Comments."})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"autocomplete",children:"Autocomplete"}),"\n",(0,i.jsxs)(t.p,{children:["The autocomplete list appears for Visionary Render Lua functions (which are prefixed by ",(0,i.jsx)(t.code,{children:"vr"}),") and registers (which are prefixed by ",(0,i.jsx)(t.code,{children:"__"}),"). It appears automatically as you type. Double-click on one of the options to insert its text into the editor. Alternatively, use the ",(0,i.jsx)(t.code,{children:"Up"})," and ",(0,i.jsx)(t.code,{children:"Down"})," arrow keys to navigate the list and press ",(0,i.jsx)(t.code,{children:"Enter"})," to select an option."]}),"\n",(0,i.jsx)(t.h3,{id:"drag-and-drop",children:"Drag-and-drop"}),"\n",(0,i.jsxs)(t.p,{children:["The text editor can accept nodes dragged from one of the tree views or Browser. In response, it creates a variable in the current Script that links to the dropped node. When dragging and dropping from the 3D view, a combination of ",(0,i.jsx)(t.code,{children:"Ctrl"})," and/or ",(0,i.jsx)(t.code,{children:"Shift"})," can be used to select which node to add to the script. The following modifier keys can be used:"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Modifier Key"}),(0,i.jsx)(t.th,{children:"Action"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"None"}),(0,i.jsx)(t.td,{children:"Add the Assembly that was dragged."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Ctrl"})}),(0,i.jsx)(t.td,{children:"Add the Model of the part that was dragged."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Shift"})}),(0,i.jsx)(t.td,{children:"Add the GeoGroup of the part that was dragged."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"Ctrl"})," + ",(0,i.jsx)(t.code,{children:"Shift"})]}),(0,i.jsx)(t.td,{children:"Add the Material of the part that was dragged."})]})]})]}),"\n",(0,i.jsx)(t.p,{children:"Right-click in the text area to show the context menu."}),"\n",(0,i.jsx)(t.h2,{id:"output-panel",children:"Output Panel"}),"\n",(0,i.jsx)(t.p,{children:"The Output panel displays any compile errors and text printed by Lua scripts. Click and drag the bar above it to adjust its vertical size. Right-click in the text area to open the context menu."}),"\n",(0,i.jsx)(t.h2,{id:"console",children:"Console"}),"\n",(0,i.jsxs)(t.p,{children:["The Console tab can be used to create and execute simple scripts. First, enter your script into the Script Editor (it can be multiple lines). Now right-click in the text area and select ",(0,i.jsx)(t.code,{children:"Execute"})," from the context menu, or press ",(0,i.jsx)(t.code,{children:"Ctrl"})," + ",(0,i.jsx)(t.code,{children:"E"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["The Output panel will display any errors if the script failed to compile. If the script is okay, the Output panel will show any output from Lua's ",(0,i.jsx)(t.code,{children:"print"})," function. Any script that is executed in the Console will start by printing ",(0,i.jsx)(t.code,{children:"Running..."})," to the Output panel. When execution of the script is complete, it prints ",(0,i.jsx)(t.code,{children:"Ended."}),". It does this because of the sleeping behaviour that is available in Visionary Render 2.0.0 and above, in which a script may pause its execution and resume after a specified time period."]}),"\n",(0,i.jsx)(t.h3,{id:"example-code",children:"Example Code"}),"\n",(0,i.jsx)(t.p,{children:"The following example shows how to print the Visionary Render version number:"}),"\n",(0,i.jsxs)(o.A,{children:[(0,i.jsx)(d.A,{value:"console",label:"Console",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-lua",children:"-- Get the Visionary Render version number.\r\nlocal version = vrGetVisRenVersion()\r\n\r\n-- Print it to the Output panel.\r\nprint(version)\n"})})}),(0,i.jsx)(d.A,{value:"output",label:"Output",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Running...\r\n2023.2.0\r\nEnded.\n"})})})]}),"\n",(0,i.jsx)(t.admonition,{type:"warning",children:(0,i.jsx)(t.p,{children:"Code in the Console is temporary and won't be saved when you exit Visionary Render."})}),"\n",(0,i.jsx)(t.h2,{id:"find-and-replace",children:"Find and Replace"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:r(33721).A+"",width:"542",height:"117"})}),"\n",(0,i.jsxs)(t.p,{children:["Click on the ",(0,i.jsx)("img",{src:"/img/visionary-render-programming/script-editor-search-icon.png"})," button to show or hide the Find and Replace bar. It can also be shown from the Script Editor with ",(0,i.jsx)(t.code,{children:"Ctrl"})," + ",(0,i.jsx)(t.code,{children:"F"}),"."]}),"\n",(0,i.jsx)(t.h3,{id:"find",children:"Find"}),"\n",(0,i.jsx)(t.p,{children:"The Find drop-down has the following options:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Option"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Find"}),(0,i.jsx)(t.td,{children:"Search for text in the current tab (default option)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Find (All Tabs)"}),(0,i.jsx)(t.td,{children:"Search for text in all open tabs."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Find (Entire Scene)"}),(0,i.jsx)(t.td,{children:"Search for text in all Scripts in the scene. New tabs will be created for any Scripts that contain the text but aren\u2019t already open."})]})]})]}),"\n",(0,i.jsx)(t.p,{children:"Enter the text to search for in the text edit box and press the Find Next button to trigger the Find operation. The text in the Find box is coloured red when it can\u2019t be found."}),"\n",(0,i.jsx)(t.h3,{id:"replace",children:"Replace"}),"\n",(0,i.jsx)(t.p,{children:"The Replace drop-down has the following options:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Option"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Replace"}),(0,i.jsx)(t.td,{children:"Replace the next instance of the text in the Find box with the text in the Replace box (default option)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Replace All"}),(0,i.jsx)(t.td,{children:"Replace all instances of the text in the Find box with the text in the Replace box."})]})]})]}),"\n",(0,i.jsx)(t.p,{children:"Enter the text to be inserted in the text edit box and press the Replace Next button to trigger the Replace operation."}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"The scope of the Replace is determined by the Find combo box."})}),"\n",(0,i.jsx)(t.h3,{id:"filters",children:"Filters"}),"\n",(0,i.jsx)(t.p,{children:"The following filters can be applied to the search:"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Filter"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Match case"}),(0,i.jsxs)(t.td,{children:["Perform a case-sensitive search (i.e. a search for lower case ",(0,i.jsx)(t.code,{children:"a"})," would ignore any capital ",(0,i.jsx)(t.code,{children:"A"}),"\u2019s in the text)."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Match whole word"}),(0,i.jsx)(t.td,{children:"Ignore any words that contain the search text in them but have other characters."})]})]})]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},79329:(e,t,r)=>{r.d(t,{A:()=>o});r(96540);var n=r(34164);const i={tabItem:"tabItem_Ymn6"};var s=r(74848);function o(e){let{children:t,hidden:r,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,n.A)(i.tabItem,o),hidden:r,children:t})}},65537:(e,t,r)=>{r.d(t,{A:()=>w});var n=r(96540),i=r(34164),s=r(65627),o=r(56347),d=r(50372),a=r(30604),l=r(11861),c=r(78749);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:t,children:r}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:r,attributes:n,default:i}}=e;return{value:t,label:r,attributes:n,default:i}}))}(r);return function(e){const t=(0,l.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function u(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function x(e){let{queryString:t=!1,groupId:r}=e;const i=(0,o.W6)(),s=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,a.aZ)(s),(0,n.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(i.location.search);t.set(s,e),i.replace({...i.location,search:t.toString()})}),[s,i])]}function j(e){const{defaultValue:t,queryString:r=!1,groupId:i}=e,s=p(e),[o,a]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!u({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s}))),[l,h]=x({queryString:r,groupId:i}),[j,m]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[i,s]=(0,c.Dv)(r);return[i,(0,n.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:i}),b=(()=>{const e=l??j;return u({value:e,tabValues:s})?e:null})();(0,d.A)((()=>{b&&a(b)}),[b]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!u({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),m(e)}),[h,m,s]),tabValues:s}}var m=r(9136);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=r(74848);function f(e){let{className:t,block:r,selectedValue:n,selectValue:o,tabValues:d}=e;const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),c=e=>{const t=e.currentTarget,r=a.indexOf(t),i=d[r].value;i!==n&&(l(t),o(i))},h=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=a.indexOf(e.currentTarget)+1;t=a[r]??a[0];break}case"ArrowLeft":{const r=a.indexOf(e.currentTarget)-1;t=a[r]??a[a.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":r},t),children:d.map((e=>{let{value:t,label:r,attributes:s}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>{a.push(e)},onKeyDown:h,onClick:c,...s,className:(0,i.A)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":n===t}),children:r??t},t)}))})}function v(e){let{lazy:t,children:r,selectedValue:s}=e;const o=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===s));return e?(0,n.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function y(e){const t=j(e);return(0,g.jsxs)("div",{className:(0,i.A)("tabs-container",b.tabList),children:[(0,g.jsx)(f,{...t,...e}),(0,g.jsx)(v,{...t,...e})]})}function w(e){const t=(0,m.A)();return(0,g.jsx)(y,{...e,children:h(e.children)},String(t))}},33721:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"assets/images/script-editor-find-c6b17ba25650a01102de88221ef7b98d.png"},52617:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"assets/images/script-editor-6e817a4f561b7e4c60fdd4b4e48382fe.png"},28453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>d});var n=r(96540);const i={},s=n.createContext(i);function o(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);